(()=>{var t={100:(t,e,n)=>{"use strict";n.r(e)},181:(t,e,n)=>{n(7078),up.link=function(){const t=up.util,e=up.element;let n=null,i=null,s=null;const r="[up-content], [up-fragment], [up-document]",o=`${r}, [up-target], [up-layer], [up-transition], [up-preload]`,u=new up.Config((()=>({followSelectors:["[up-follow]",`a:is(${o})`],noFollowSelectors:["[up-follow=false]","a[download]","a[target]",'a[href^="javascript:"]','a[href^="mailto:"]','a[href^="tel:"]',`a[href^="#"]:not(${r})`,e.crossOriginSelector("href"),e.crossOriginSelector("up-href")],instantSelectors:["[up-instant]"],noInstantSelectors:["[up-instant=false]","[onclick]"],preloadSelectors:["[up-preload]"],noPreloadSelectors:["[up-preload=false]"],clickableSelectors:["[up-clickable]","[up-follow]","[up-emit]","[up-accept]","[up-dismiss]",`a:is(${o})`],noClickableSelectors:["[up-clickable=false]","a[href], button"],preloadDelay:90}))),a=up.mockable((function(t,e,n){return up.render(c(t,e,n))}));function h(e,n,i){n=t.options(n);const s=new up.OptionsParser(e,n,{...i,fail:!1});return n.url=function(t,e={}){const n=e.url||t.getAttribute("up-href")||t.getAttribute("href");if("#"!==n)return n}(e,n),n.method=p(e,n),s.json("headers"),s.json("params"),s.booleanOrString("cache"),s.booleanOrString("expireCache"),s.booleanOrString("evictCache"),s.booleanOrString("revalidate"),s.booleanOrString("abort"),s.boolean("abortable"),s.boolean("background"),s.string("contentType"),s.booleanOrNumber("lateDelay"),s.number("timeout"),s.booleanOrString("fail"),n}function c(e,n,i){e=up.fragment.get(e),n=t.options(n);const s=new up.OptionsParser(e,n,{fail:!0,...i});return s.include(h),n.origin||=e,s.boolean("navigate",{default:!0}),s.string("confirm",{attr:["up-confirm","data-confirm"]}),s.string("target"),s.booleanOrString("fallback"),s.string("match"),s.string("document"),s.string("fragment"),s.string("content"),s.boolean("keep",{attr:"up-use-keep"}),s.boolean("hungry",{attr:"up-use-hungry"}),s.json("data",{attr:"up-use-data"}),s.callback("onLoaded"),s.callback("onRendered",{mainKey:"result"}),s.callback("onFinished",{mainKey:"result"}),s.callback("onOffline",{mainKey:"error"}),s.callback("onError",{mainKey:"error"}),s.boolean("peel"),s.string("layer"),s.string("baseLayer"),s.json("context"),s.string("mode"),s.string("align"),s.string("position"),s.string("class"),s.string("size"),s.booleanOrString("dismissable"),s.parse(up.layer.openCallbackAttr,"onOpened"),s.parse(up.layer.closeCallbackAttr,"onAccepted"),s.parse(up.layer.closeCallbackAttr,"onDismissed"),s.string("acceptEvent"),s.string("dismissEvent"),s.string("acceptLocation"),s.string("dismissLocation"),s.booleanOrString("closeAnimation"),s.string("closeEasing"),s.number("closeDuration"),s.include(up.status.statusOptions),s.booleanOrString("focus"),s.booleanOrString("focusVisible"),s.boolean("saveScroll"),s.boolean("saveFocus"),s.booleanOrString("scroll"),s.boolean("revealTop"),s.number("revealMax"),s.number("revealPadding"),s.number("revealSnap"),s.string("scrollBehavior"),s.booleanOrString("history"),s.booleanOrString("location"),s.booleanOrString("title"),s.boolean("metaTags"),s.booleanOrString("lang"),s.include(up.motion.motionOptions),n.guardEvent??=up.event.build("up:link:follow",{log:["Following link %o",e]}),n}function l(t,e){let n=function(t){if(!w(t))return"Will not preload an unsafe link"}(t=up.fragment.get(t));if(n)return Promise.reject(new up.Error(n));const i=up.event.build("up:link:preload",{log:["Preloading link %o",t]});return a(t,{abort:!1,abortable:!1,background:!0,cache:!0,...e,...up.RenderOptions.NO_INPUT_INTERFERENCE,...up.RenderOptions.NO_PREVIEWS,guardEvent:i,preload:!0})}function p(e,n={}){return t.normalizeMethod(n.method||e.getAttribute("up-method")||e.getAttribute("data-method"))}function f(t){return t=up.fragment.get(t),u.matches(t,"followSelectors")}function d(t){f(t)||t.setAttribute("up-follow","")}function m(t,e){if(t.defaultPrevented)return!1;const n=`a, [up-follow], ${up.form.fieldSelector()}`,i=t.target.closest(n);return!i||i===e}function g(t){const e=t.closest(u.selector("instantSelectors"));return e&&(n=e,!(u.matches(n,"noInstantSelectors")||u.matches(n,"noFollowSelectors")));var n}function y(t){let e=["clientX","clientY","button",...up.event.keyModifiers];const n=up.event.fork(t,"up:click",e);up.emit(t.target,n,{log:!1})}function w(t){const e=p(t);return up.network.isSafeMethod(e)}function b(t,n,i){switch(t){case"insert":i();break;case"reveal":{let t=e.numberAttr(n,"up-intersect-margin");up.fragment.onFirstIntersect(n,i,{margin:t});break}case"hover":new up.LinkFollowIntent(n,i)}}function v(t,e){let n={navigate:!1,guardEvent:up.event.build("up:deferred:load",{log:["Loading deferred %o",t]}),...e};return a(t,n,{defaults:{target:":origin",cache:"auto",revalidate:"auto",feedback:!0}})}return up.macro(u.selectorFn("clickableSelectors"),(function(t){let n=t.matches("a, [up-follow]")?"link":"button";e.setMissingAttrs(t,{tabindex:"0",role:n,"up-clickable":""}),t.addEventListener("keydown",(function(e){if("Enter"===e.key||"button"===t.role&&"Space"===e.key)return y(e)}))})),up.attribute("up-defer",{defaultValue:"insert"},(function(t,e){b(e,t,(e=>up.error.muteUncriticalRejection(v(t,e))))})),up.on("up:click",u.selectorFn("followSelectors"),(function(t,e){m(t,e)&&(up.event.halt(t,{log:!0}),up.focus(e,{preventScroll:!0}),up.error.muteUncriticalRejection(a(e)))})),up.attribute("up-expand",{defaultValue:"a, [up-href]",macro:!0},(function(t,n){let i=e.get(t,n);i&&(e.setMissingAttrs(t,{"up-href":e.attr(i,"href"),...e.upAttrs(i)}),i.upExpandedPair=t.upExpandedPair=[t,i],e.addClasses(t,e.upClasses(i)),d(t))})),up.compiler(u.selectorFn("preloadSelectors"),(function(n){if(!function(t){return!up.browser.canPushState()||!f(t)||!function(t){const e=h(t);if(e.url)return null==e.cache&&(e.cache="auto"),e.basic=!0,new up.Request(e).willCache()}(t)}(n)){let i=t=>up.error.muteUncriticalRejection(l(n,t)),s=e.booleanOrStringAttr(n,"up-preload");(!0===s||t.isUndefined(s))&&(s="hover"),b(s,n,i)}})),up.on("up:framework:reset",(function(){n=null,i=null,s=null})),{follow:a,followOptions:c,requestOptions:h,preload:l,makeFollowable:d,isSafe:w,isFollowable:f,shouldFollowEvent:m,convertClicks:function(t){t.on("click",(function(e,n){up.event.isModified(e)||(g(n)&&s===n?up.event.halt(e):("key"===up.event.inputDevice||up.event.isSyntheticClick(e)||t.wasHitByMouseEvent(e)&&(!i||i===e.target))&&y(e),i=null,s=null)})),t.on("touchstart",{passive:!0},(function(t,e){n=e})),t.on("mousedown",(function(t,e){up.event.isModified(t)||(i=e,g(e)&&!function(t){let e=t.target;return n===e&&e.closest("[href]")}(t)&&(s=e,y(t)),n=null)}))},config:u,loadDeferred:v}}(),up.follow=up.link.follow,up.deferred={load:up.link.loadDeferred}},235:(t,e,n)=>{n(1712),up.viewport=function(){const t=up.util,e=up.element,n=up.fragment,i=new up.Config((()=>({viewportSelectors:["[up-viewport]","[up-fixed]"],fixedTopSelectors:["[up-fixed~=top]"],fixedBottomSelectors:["[up-fixed~=bottom]"],anchoredRightSelectors:["[up-anchored~=right]","[up-fixed~=top]","[up-fixed~=bottom]","[up-fixed~=right]"],revealSnap:200,revealPadding:0,revealTop:!1,revealMax:()=>.5*window.innerHeight,autoFocusVisible:({element:t,inputDevice:e})=>"key"===e||up.form.isField(t)}))),s=new up.BodyShifter;up.compiler(i.selectorFn("anchoredRightSelectors"),(function(t){return s.onAnchoredElementInserted(t)}));const r=up.mockable((function(e,i){return i=t.options(i),e=n.get(e,i),(i.layer=up.layer.get(e))||up.fail("Cannot reveal a detached element"),i.peel&&i.layer.peel(),new up.RevealMotion(e,i).start(),up.migrate.formerlyAsync?.("up.reveal()")||!0}));function o(e,{preventScroll:n,force:s,inputDevice:o,focusVisible:a}={}){if(s&&(e.hasAttribute("tabindex")||-1!==e.tabIndex||e.setAttribute("tabindex","-1")),o??=up.event.inputDevice,a??="auto",a=t.evalAutoOption(a,i.autoFocusVisible,{element:e,inputDevice:o}),e.focus({preventScroll:!0,focusVisible:a}),u(e),e.classList.add(a?"up-focus-visible":"up-focus-hidden"),!n)return r(e)}function u(t){t?.classList.remove("up-focus-hidden","up-focus-visible")}function a(e,{strong:n,layer:i,origin:s,behavior:o="instant"}={}){if(!e)return;let u=w(e,{layer:i,origin:s});return u?()=>{let e=()=>r(u,{top:!0,behavior:o});return n&&t.fastTask(e),e()}:"#top"===e?()=>g(0,{behavior:o}):void 0}function h(){return[p().tagName,...i.viewportSelectors].join()}function c(t,e={}){return n.get(t,e).closest(h())}function l(t,i={}){return t=n.get(t,i),e.around(t,h())}function p(){return document.scrollingElement}function f(){return e.root.clientWidth}function d(t){return up.fragment.tryToTarget(t)}function m(e){const[i,s]=t.args(e,"val","options");let r;return s.layer=up.layer.get(s),r=i?[c(i,s)]:s.around?l(s.around,s):function(t={}){return n.all(h(),t)}(s),[r,s]}function g(t,...e){const[n,i]=m(e);return y(n,{},t,i.behavior),!0}function y(t,e,n,i="instant"){for(let s of t){const t=e[d(s)]||n;s.scrollTo({top:t,behavior:i})}}function w(t,i={}){var s;if(s=t,t=s?.replace(/^#/,""),t){const s=[e.idSelector(t),"a"+e.attrSelector("name",t)].join();return n.get(s,i)}}up.on("focusin",(function({relatedTarget:t}){u(t)}));const b=["selectionStart","selectionEnd","scrollLeft","scrollTop"];return{reveal:r,revealHash:function(...t){return a(...t)?.()},revealHashFn:a,firstHashTarget:w,config:i,get:c,subtree:function(t,i={}){return t=n.get(t,i),e.subtree(t,h())},around:l,get root(){return p()},rootWidth:f,rootHeight:function(){return e.root.clientHeight},isRoot:function(t){return t===p()},rootScrollbarWidth:function(){return window.innerWidth-f()},saveScroll:function(...t){const[e,n]=m(t),i=n.location||n.layer.location;if(i){const t=function(t){let e={};for(let n of t){let t=d(n);t?e[t]=n.scrollTop:up.warn("up.viewport.saveScroll()","Cannot save scroll positions for untargetable viewport %o",n)}return e}(e);n.layer.lastScrollTops.set(i,t)}},restoreScroll:function(...t){const[e,n]=m(t),{location:i}=n.layer,s=n.layer.lastScrollTops.get(i);return!!s&&(y(e,s,0),up.puts("up.viewport.restoreScroll()","Restored scroll positions to %o",s),!0)},scrollTo:g,saveFocus:function(t={}){const e=up.layer.get(t),n=t.location||e.location;if(n){const t=up.FocusCapsule.preserve(e);e.lastFocusCapsules.set(n,t)}},restoreFocus:function(t={}){const e=up.layer.get(t),n=t.location||e.location,i=t.layer.lastFocusCapsules.get(n);return!(!i||!i.restore(e)||(up.puts("up.viewport.restoreFocus()",'Restored focus to "%s"',i.target),0))},absolutize:function(n,s={}){const r=c(n).getBoundingClientRect(),o=n.getBoundingClientRect(),u=new up.Rect({left:o.left-r.left,top:o.top-r.top,width:o.width,height:o.height});s.afterMeasure?.(),e.setStyle(n,{position:"static"===n.style.position?"static":"relative",top:"auto",right:"auto",bottom:"auto",left:"auto",width:"100%",height:"100%"});const a=e.createFromSelector("up-bounds");e.insertBefore(n,a),a.appendChild(n);const h=function(t,n){return u.left+=t,u.top+=n,e.setStyle(a,u,"px")};h(0,0);const l=n.getBoundingClientRect();return h(o.left-l.left,o.top-l.top),t.each(function(t=document){const e=["[up-fixed]"].concat(i.fixedTopSelectors).concat(i.fixedBottomSelectors);return t.querySelectorAll(e.join())}(n),e.fixedToAbsolute),{bounds:a,moveBounds:h}},focus:o,tryFocus:function(t,e){return o(t,e),t===document.activeElement},newStateCache:function(){return new up.FIFOCache({capacity:30,normalizeKey:t.matchableURL})},focusedElementWithin:function(t){const e=document.activeElement;if(up.fragment.contains(t,e))return e},copyCursorProps:function(t,e={}){for(let n of b)try{e[n]=t[n]}catch(t){}return e},bodyShifter:s}}(),up.focus=up.viewport.focus,up.reveal=up.viewport.reveal},302:()=>{const t=up.util,e=up.element;up.Change.UpdateSteps=class UpdateSteps extends up.Change.Addition{constructor(e){super(e),this.t=t.copy(t.assert(e.steps)),this.i=t.assert(e.passRenderOptions),this.o=e.noneOptions||{},this.u=[]}execute(t){return this.responseDoc=t,this.t=t.selectSteps(this.t),this.t=t.commitSteps(this.t),this.renderResult=new up.RenderResult({layer:this.i.layer,target:up.fragment.targetForSteps(this.t),renderOptions:this.i}),this.t.length?(this.t.reverse(),up.fragment.mutate((()=>{const t=this.t.map((t=>this.h(t)));this.renderResult.finished=this.l(t)}))):(this.p(null,this.o),this.m(null,this.o)),this.renderResult}v(t){this.u.push(t)}async l(){await Promise.all(this.u);for(let t of this.t)this.ensureLayerAlive(t.layer);return this.renderResult}_(t){let e=t.matches("up-wrapper")?t.children:[t];this.renderResult.fragments.unshift(...e)}h(t){switch(t.placement){case"swap":{let n=up.fragment.keepPlan(t);if(n){this.p(t.oldElement,t),this.m(t.oldElement,t),up.fragment.emitKept(n);break}{this.k(t);const n=t.oldElement.parentNode,i={...t,beforeStart(){up.fragment.markAsDestroying(t.oldElement)},afterInsert:()=>{this.S(t),this.O(t.newElement,t),this.T(t)},beforeDetach:()=>{up.script.clean(t.oldElement,{layer:t.layer})},afterDetach(){e.cleanJQuery(),up.fragment.emitDestroyed(t.oldElement,{parent:n,log:!1}),t.afterDetach?.()},scrollNew:()=>{this.p(t.newElement,t),this.m(t.newElement,t)}};this.v(up.morph(t.oldElement,t.newElement,t.transition,i));break}}case"content":{let n=e.wrapChildren(t.oldElement),i=e.wrapChildren(t.newElement),s={...t,placement:"swap",oldElement:n,newElement:i,focus:!1,afterDetach:()=>{e.unwrap(i),this.p(t.oldElement,t)}};this.h(s);break}case"before":case"after":{let n=e.wrapChildren(t.newElement),i="before"===t.placement?"afterbegin":"beforeend";t.oldElement.insertAdjacentElement(i,n),this.O(n,t),this.p(n,t),this.m(n,t),this.v(up.animate(n,t.animation,t).then((()=>e.unwrap(n))));break}default:up.fail("Unknown placement: %o",t.placement)}}O(t,e){this.responseDoc.finalizeElement(t),this.setReloadAttrs(e),this.v(up.hello(t,e)),this._(t)}k(e){const n=[];if(e.keep)for(let i of e.oldElement.querySelectorAll("[up-keep]")){let s=up.fragment.keepPlan({...e,oldElement:i,descendantsOnly:!0});if(s){const e=i.cloneNode(!0);i.insertAdjacentElement("beforebegin",e),i.classList.add("up-keeping"),up.script.disableSubtree(s.newElement);let r=up.viewport.subtree(s.oldElement);s.revivers=t.map(r,(function(t){let e=up.viewport.copyCursorProps(t);return()=>up.viewport.copyCursorProps(e,t)})),this.F()?s.newElement.replaceWith(i):document.body.append(i),n.push(s)}}e.descendantKeepPlans=n}S(t){for(let e of t.descendantKeepPlans){e.newElement.replaceWith(e.oldElement);for(let t of e.revivers)t()}}T(t){for(let e of t.descendantKeepPlans)e.oldElement.classList.remove("up-keeping"),up.fragment.emitKept(e)}F(){return t.some(this.t,(t=>t.oldElement.matches("body")))}p(t,e){return new up.FragmentFocus({...e,fragment:t,autoMeans:up.fragment.config.autoFocus}).process(e.focus)}m(t,e){return new up.FragmentScrolling({...e,fragment:t,autoMeans:up.fragment.config.autoScroll}).process(e.scroll)}}},367:()=>{up.log=function(){const t=up.util,e=new up.LogConfig;function n(t,e,n,...s){i(t,e,"",n,...s)}function i(n,i,s,r,...o){r&&(e.format?console[n](`%c${i}%c ${r}`,"color: #666666; padding: 1px 3px; border: 1px solid #bbbbbb; border-radius: 2px; font-size: 90%; display: inline-block;"+s,"",...o):console[n](`[${i}] ${t.sprintf(r,...o)}`))}let s;return up.on("up:framework:boot",(function(){if(!e.banner)return;const t=` __ _____  ___  ___  / /_ __\n/ // / _ \\/ _ \\/ _ \\/ / // /  ${up.version}\n\\___/_//_/ .__/\\___/_/\\_. / \n        / /            / /\n\n`;let n="";up.migrate.loaded||(n+="Load unpoly-migrate.js to polyfill deprecated APIs.\n\n"),e.enabled?n+="Call `up.log.disable()` to disable logging for this session.":n+="Call `up.log.enable()` to enable logging for this session.";const i="color: #777777";e.format?console.log("%c"+t+"%c"+n,"font-family: monospace;"+i,i):console.log(t+n)})),{puts:function(...t){e.enabled&&n("log",...t)},putsEvent:function(t){if(e.enabled&&s!==t){s=t;let e=t.originalEvent||t,n="#5566cc";i("log",e.type,`color: white; border-color: ${n}; background-color: ${n}`,"Interaction on %o",e.target)}},error:(...t)=>n("error",...t),warn:(...t)=>n("warn",...t),config:e,enable:function(){e.enabled=!0},disable:function(){e.enabled=!1}}}(),up.puts=up.log.puts,up.warn=up.log.warn},541:()=>{const t=up.util;up.RenderOptions=function(){const e=["url","method","origin","headers","params","cache","fallback","abort","abortable","handleAbort","confirm","feedback","disable","placeholder","preview","origin","originLayer","baseLayer","navigate","fail","onError"].concat(["keep","hungry","history","source","saveScroll"]),n=["url","response","content","fragment","document"],i=["history","focus","scroll"];return{preprocess:function(e){up.migrate.preprocessRenderOptions?.(e),up.layer.normalizeOptions(e),function(e){t.renameKey(e,"useData","data"),t.renameKey(e,"useHungry","hungry"),t.renameKey(e,"useKeep","keep")}(e);const n=t.merge(up.fragment.config.renderOptions,function(t){if(t.navigate)return up.fragment.config.navigateOptions}(e));return t.merge(t.omit(n,i),{defaults:n},{inputDevice:up.event.inputDevice},e,function({url:e}){if(e)return{url:t.normalizeURL(e)}}(e),function({origin:t,originLayer:e}){if(t&&!e)return{originLayer:up.layer.get(t)}}(e))},finalize:function(e,n){return t.merge(e.defaults,n,e)},assertContentGiven:function(e){t.some(n,(n=>t.isGiven(e[n])))||(e.defaultToEmptyContent?e.content="":up.fail("up.render() needs either { "+n.join(", ")+" } option"))},deriveFailOptions:function(n){let i={didFail:!0},s=function(t){const e={};for(let n in t){const i=t[n];let s=up.fragment.successKey(n);s&&(e[s]=i)}return e}(n);return n.failOptions?{...n.defaults,...t.pick(n,e),...s,didForceFailOptions:!0,...i}:{...n,...s,...i}},NO_PREVIEWS:{preview:!1,disable:!1,placeholder:!1,feedback:!1},NO_MOTION:{transition:!1,animation:!1,openAnimation:!1,closeAnimation:!1},NO_INPUT_INTERFERENCE:{scroll:!1,focus:"keep",confirm:!1}}}()},567:()=>{const t=up.element;up.NonceableCallback=class NonceableCallback{constructor(t,e){this.script=t,this.nonce=e}static fromString(t){let e=t.match(/^(nonce-([^\s]+)\s)?(.*)$/);return new this(e[3],e[2])}toFunction(...t){let e=this.script;if(this.nonce){let n=this;return function(...i){return n.C(e,this,t,i)}}return new Function(...t,e)}toString(){return`nonce-${this.nonce} ${this.script}`}C(e,n,i,s){let r,o=`\n      try {\n        up.noncedEval.value = (function(${i.join()}) {\n          ${e}\n        }).apply(up.noncedEval.thisArg, up.noncedEval.args)\n      } catch (error) {\n        up.noncedEval.error = error\n      }\n    `;try{if(up.noncedEval={args:s,thisArg:n},r=t.affix(document.body,"script",{nonce:this.nonce,text:o}),up.noncedEval.error)throw up.noncedEval.error;return up.noncedEval.value}finally{up.noncedEval=void 0,r&&r.remove()}}}},611:()=>{const t=up.util,e=up.element;up.EventEmitter=class EventEmitter extends up.Record{keys(){return["target","event","baseLayer","callback","log","ensureBubbles"]}emit(){return this.R(),this.baseLayer?this.baseLayer.asCurrent((()=>this.L())):this.L(),this.event}L(){this.target.dispatchEvent(this.event),this.ensureBubbles&&!this.target.isConnected&&document.dispatchEvent(this.event),up.error.guard((()=>this.callback?.(this.event)))}assertEmitted(){const t=this.emit();if(t.defaultPrevented)throw new up.Aborted(`Event ${t.type} was prevented`)}R(){if(!up.log.config.enabled)return;let e,n=this.log;t.isArray(n)?[n,...e]=n:e=[];const{type:i}=this.event;t.isString(n)?up.puts(i,n,...e):!1!==n&&up.puts(i,`Event ${i}`)}static fromEmitArgs(n,i={}){let s,r=t.extractOptions(n);return r=t.merge(i,r),t.isElementLike(n[0])?r.target=e.get(n.shift()):n[0]instanceof up.Layer&&(r.layer=n.shift()),t.isGiven(r.layer)&&(s=up.layer.get(r.layer),r.target||=s.element,r.baseLayer||=s),r.baseLayer&&(r.baseLayer=up.layer.get(r.baseLayer)),t.isString(r.target)?r.target=up.fragment.get(r.target,{layer:r.layer}):r.target||(r.target=document),n[0]?.preventDefault?(r.event=n[0],r.log??=n[0].log):t.isString(n[0])?r.event=up.event.build(n[0],r):r.event=up.event.build(r),new this(r)}}},621:()=>{const t=up.util;up.FieldWatcher=class FieldWatcher{constructor(t,e,n){this.A=e,this.P=t,this.D=n,this.$=e.batch,this.M=e.logPrefix??"up.watch()",this.H()}start(){return this.N=null,this.j=this.B(),this.q=null,this.I=!1,t.sequence(this.U(),this.K(),this.V(),(()=>this.X()))}H(){const t=t=>up.fail(t,this.M,this.P);this.D||t("No callback provided for %s (%o)"),this.P.matches("input[type=radio]")&&t("Use %s with the container of a radio group, not with an individual radio button (%o)"),up.form.isField(this.P)&&!this.P.name&&t("%s can only watch fields with a name (%o)")}U(){return up.form.isField(this.P)?this.W(this.P):up.form.trackFields(this.P,(t=>this.W(t)))}K(){return up.on("up:fragment:aborted",{guard:({target:t})=>t.contains(this.G)},(()=>this.X()))}V(){return up.on("reset",{guard:({target:t})=>t===this.G},(t=>this.J(t)))}get G(){return up.form.getRegion(this.P)}Y(e){let n=t.copy(this.A);return up.form.watchOptions(e,n,{defaults:{event:"input"}})}W(t){let e=this.Y(t),n=e.event;return up.on(t,n,(t=>this.Z(t,e)))}X(){this.N=null}tt(e,n){this.N=e,this.et=n;let i=n.delay||0;clearTimeout(this.q),this.q=t.timer(i,(()=>{this.q=null,this.nt()}))}it(e){return!t.isEqual(e,this.j)&&!t.isEqual(this.N,e)}async nt(){if(!this.N)return;if(this.I)return;if(this.q)return;if(!up.fragment.isAlive(this.G))return;let e=t.omit(this.et,["event","delay"]);const n=this.st(this.j,this.N);this.j=this.N,this.N=null,this.I=!0,this.et=null;const i=[];if(this.$)i.push(this.rt(n,e));else for(let t in n){const s=n[t];i.push(this.rt(s,t,e))}if(t.some(i,t.isPromise)){let t=Promise.allSettled(i);await t}this.I=!1,this.nt()}rt(...t){return up.error.guard(this.D,...t)}st(e,n){const i={};let s=Object.keys(e);s=s.concat(Object.keys(n)),s=t.uniq(s);for(let r of s){const s=e[r],o=n[r];t.isEqual(s,o)||(i[r]=o)}return i}B(){return up.Params.fromContainer(this.P).toObject()}Z(t,e={}){const n=this.B();this.it(n)&&(up.log.putsEvent(t),this.tt(n,e))}J(e){t.task((()=>this.Z(e)))}}},864:()=>{up.Change.DestroyFragment=class DestroyFragment extends up.Change{constructor(t){super(t),this.ot=up.layer.get(t)||up.layer.current,this.ut=this.options.element,this.ht=this.options.animation,this.ct=this.options.log,this.lt=this.options.onFinished}execute(){this.ft=this.ut.parentNode,up.fragment.markAsDestroying(this.ut),up.motion.willAnimate(this.ut,this.ht,this.options)?this.dt():this.gt()}async dt(){this.yt(),await this.wt(),this.bt(),this.lt?.()}gt(){this.bt(),this.yt(),this.lt?.()}wt(){return up.motion.animate(this.ut,this.ht,this.options)}bt(){this.ot.asCurrent((()=>{up.fragment.abort(this.ut),up.script.clean(this.ut,{layer:this.ot}),up.element.cleanJQuery(this.ut),this.ut.remove()}))}yt(){up.fragment.emitDestroyed(this.ut,{parent:this.ft,log:this.ct})}}},889:()=>{up.browser={submitForm:function(t){t.submit()},canPushState:function(){return"GET"===up.protocol.initialRequestMethod()},canJQuery:function(){return!!window.jQuery},assertConfirmed:function(t){if(t.confirm&&!window.confirm(t.confirm))throw new up.Aborted("User canceled action");return!0},popCookie:function(t){let e=document.cookie.match(new RegExp(t+"=(\\w+)"))?.[1];if(e)return document.cookie=t+"=;Max-Age=0;Path=/",e}}},891:(t,e,n)=>{"use strict";n.r(e)},1006:(t,e,n)=>{"use strict";n.r(e)},1268:()=>{up.CannotTarget=class CannotTarget extends up.Error{}},1410:()=>{up.CannotParse=class CannotParse extends up.Error{}},1420:(t,e,n)=>{n(891);const i=up.util,s=up.element;up.layer=function(){const t=[up.Layer.Root,up.Layer.Modal,up.Layer.Popup,up.Layer.Drawer,up.Layer.Cover],e=new up.Config((function(){const e={mode:"modal",any:{mainTargets:["[up-main='']","main",":layer"]},root:{mainTargets:["[up-main~=root]"],history:!0},overlay:{mainTargets:["[up-main~=overlay]"],openAnimation:"fade-in",closeAnimation:"fade-out",dismissLabel:"×",dismissARIALabel:"Dismiss dialog",dismissable:!0,history:"auto",trapFocus:!0},cover:{mainTargets:["[up-main~=cover]"]},drawer:{mainTargets:["[up-main~=drawer]"],backdrop:!0,position:"left",size:"medium",openAnimation(t){switch(t.position){case"left":return"move-from-left";case"right":return"move-from-right"}},closeAnimation(t){switch(t.position){case"left":return"move-to-left";case"right":return"move-to-right"}}},modal:{mainTargets:["[up-main~=modal]"],backdrop:!0,size:"medium"},popup:{mainTargets:["[up-main~=popup]"],position:"bottom",size:"medium",align:"left",dismissable:"outside key",trapFocus:!1},foreignOverlaySelectors:["dialog"]};for(let n of t)e[n.mode].Class=n;return e}));let n=null,r=[];function o(t){return"root"===t?[e.root,e.any]:[e[t],e.overlay,e.any]}async function u(t){return t=i.options(t,{layer:"new",defaultToEmptyContent:!0,navigate:!0}),(await up.render(t)).layer}up.on("up:fragment:destroyed",(function(){n.sync()})),up.on("up:framework:evaled",(function(){n=new up.LayerStack})),up.on("up:framework:reset",(function(){n.reset(),r=i.filter(r,"isDefault")}));const a={config:e,mainTargets:function(t){return i.flatMap(o(t),"mainTargets")},open:u,build:function(t,s){const{mode:r}=t,{Class:u}=e[r],a=i.reverse(o(r));let h=up.migrate.handleLayerConfig;return h&&a.forEach(h),t.openAnimation??=i.pluckKey(t,"animation"),t=i.mergeDefined(...a,{mode:r,stack:n},t),s&&(t=s(t)),new u(t)},ask:function(t){return new Promise((function(e,n){u(t={...t,onAccepted:t=>e(t.value),onDismissed:t=>n(t.value)})}))},normalizeOptions:function(t){!function(t){if(!(t.layer instanceof up.Layer))if(up.migrate.handleLayerOptions?.(t),i.isGiven(t.layer)){let n=String(t.layer).match(/^(new|shatter|swap)( (\w+))?/);if(n){t.layer="new";const i=n[1],s=n[3];t.mode||=s||e.mode,"swap"===i?up.layer.isOverlay()&&(t.baseLayer="parent"):"shatter"===i&&(t.baseLayer="root")}}else i.isElementLike(t.target)?t.layer=n.get(t.target,{normalizeLayerOptions:!1}):t.origin?t.layer="origin":t.layer="current"}(t),t.context??={},function(t){t.baseLayer instanceof up.Layer||(t.baseLayer=n.get("current",{...t,normalizeLayerOptions:!1}))}(t)},openCallbackAttr:function(t,e){return s.callbackAttr(t,e,{exposedKeys:["layer"]})},closeCallbackAttr:function(t,e){return s.callbackAttr(t,e,{exposedKeys:["layer","value","response"]})},anySelector:function(){return i.map(t,(t=>t.selector())).join()},optionToString:function(t){return i.isString(t)?`layer "${t}"`:t.toString()},get stack(){return n.layers},isWithinForeignOverlay:function(t){let n=e.selector("foreignOverlaySelectors");return!(!n||!t.closest(n))}};return i.delegate(a,["get","getAll","root","overlays","current","front","sync","count","dismissOverlays"],(()=>n)),i.delegate(a,["accept","dismiss","isRoot","isOverlay","isFront","on","off","emit","parent","history","location","mode","context","element","contains","size","affix"],(()=>n.current)),a}()},1438:()=>{up.FocusCapsule=class FocusCapsule{constructor(t,e){this.ut=t,this.vt=e,this._t=up.viewport.copyCursorProps(this.ut)}wasLost(){return document.activeElement!==this.ut&&!this.kt}autoVoid(){up.on("focusin",{once:!0},(()=>this.kt=!0))}restore(t,e){if(!this.wasLost())return!1;let n=up.fragment.get(this.vt,{layer:t});return n?(up.viewport.copyCursorProps(this._t,n),up.focus(n,e),!0):void 0}static preserve(t){let e=up.viewport.focusedElementWithin(t.element);if(!e)return;let n=up.fragment.tryToTarget(e);return n?new this(e,n):void 0}}},1499:()=>{const t=up.util,e=up.element;up.FormValidator=class FormValidator{constructor(t){this.St=t,this.Et=[],this.xt=null,this.Ot=!1,this.Tt()}start(){return up.form.trackFields(this.St,{guard:t=>this.Ft(t)},(t=>this.Ct(t)))}Ft(t){return t.closest("[up-validate]:not([up-validate=false])")}Ct(t){let e=up.form.validateOptions(t).event;return up.on(t,e,(e=>{up.log.putsEvent(e),up.error.muteUncriticalRejection(this.validate({origin:t}))}))}Tt(){up.fragment.onAborted(this.St,(t=>this.Rt(t)))}Rt(t){let e,n=new up.Aborted(t.reason);for(;e=this.Et.shift();)e.deferred.reject(n)}validate(t={}){let e=this.Lt(t);return this.Et.push(...e),this.At(),e[0]?.deferred}Lt(e){let n=this.Pt(e)||this.Dt(e)||this.$t(e.origin),i=t.newDeferred();for(let s of n){let n=up.form.validateOptions(s.origin,e);s.batch=t.pluckKey(n,"batch"),s.renderOptions=n,s.destination=`${n.method} ${n.url}`,s.target=up.fragment.resolveOrigin(s.target,s),s.deferred=i}return n}Dt({origin:t,...e}){if(up.form.isField(t))return this.Mt(t)||this.Ht(t,e)}Ht(t,{formGroup:e=!0}){if(!e)return;let n=up.form.groupSolution(t);return n?(up.puts("up.validate()","Validating form group of field %o",t),[n]):void 0}Pt({target:e,origin:n}){if(t.isString(e)){up.puts("up.validate()",'Validating target "%s"',e);let i=up.fragment.splitTarget(e);return t.compact(i.map((function(t){let e=up.fragment.get(t,{origin:n});if(e)return{element:e,target:t,origin:n};up.fail('Validation target "%s" does not match an element',t)})))}}$t(t){return up.puts("up.validate()","Validating element %o",t),[{element:t,target:up.fragment.toTarget(t),origin:t}]}Mt(t){let n=t.closest("[up-validate]");if(n){let i=e.booleanOrStringAttr(n,"up-validate");return this.Pt({target:i,origin:t})}}At(){let e=this.Et.map((t=>t.renderOptions.delay)),n=Math.min(...e)||0;clearTimeout(this.xt),this.xt=t.timer(n,(()=>{this.xt=null,this.Nt()}))}Nt(){up.error.muteUncriticalRejection(this.jt())}async jt(){if(!this.Et.length)return;if(this.Ot)return;if(this.xt)return;let t=this.Bt(),e=this.qt(t);this.Ot=!0;try{let n=up.render(e);for(let e of t)e.deferred.resolve(n);await n}finally{this.Ot=!1,this.Nt()}}Bt(){let t=[],e=0;for(;e<this.Et.length;){let n=this.Et[e];0===t.length||this.It(t[0],n)?(t.push(n),this.Et.splice(e,1)):e++}return t}It(t,e){return t.destination===e.destination&&t.batch&&e.batch}qt(e){let n=t.map(e,"origin"),i=t.flatMap(n,up.form.fields),s=t.uniq(t.map(i,"name")),r=t.map(e,"renderOptions"),o=up.form.destinationOptions(this.St),u=t.mergeDefined(o,...r);return u.target=t.map(e,"target").join(", "),u.origin=this.St,u.focus??="keep",u.failOptions=!1,u.defaultMaybe=!0,u.params=up.Params.merge(o.params,...t.map(r,"params")),u.headers=t.merge(o.headers,...t.map(r,"headers")),this.zt(u.headers,s),u.feedback=t.some(r,"feedback"),u.data=void 0,u.dataMap=t.mapObject(e,(({target:t,element:e,renderOptions:{data:n,keepData:i}})=>[t,i?up.data(e):n])),u.preview=void 0,u.previewMap=t.mapObject(e,(({target:t,renderOptions:{preview:e}})=>[t,e])),u.placeholder=void 0,u.placeholderMap=t.mapObject(e,(({target:t,renderOptions:{placeholder:e}})=>[t,e])),u.disable=e.map((t=>up.fragment.resolveOrigin(t.renderOptions.disable,t))),u.guardEvent=up.event.build("up:form:validate",{fields:i,log:"Validating form",params:u.params,form:this.St}),u}zt(t,e){let n=up.protocol.headerize("validate"),i=e.join(" ");(!i||i.length>up.protocol.config.maxHeaderSize)&&(i=":unknown"),t[n]=i}}},1588:()=>{const t=up.util,e=up.element,n=["GET","POST"];up.Request.FormRenderer=class FormRenderer{constructor(t){this.Ut=t}buildAndSubmit(){this.params=this.Ut.params.withoutBinaryEntries();let i=this.Ut.url,{method:s}=this.Ut;const r=up.Params.fromURL(i);this.params.addAll(r),i=up.Params.stripURL(i),t.contains(n,s)||(s=up.protocol.wrapMethod(s,this.params)),this.St=e.affix(document.body,"form.up-request-loader",{method:s,action:i});let o,u,a=this.Ut.contentType;a&&this.St.setAttribute("enctype",a),(o=this.Ut.csrfParam())&&(u=this.Ut.csrfToken())&&this.params.add(o,u),t.each(this.params.toArray(),this.Kt.bind(this)),up.browser.submitForm(this.St)}Kt(t){e.affix(this.St,"input[type=hidden]",t)}}},1589:()=>{var t;const e=up.util;up.Change.FromURL=(t=class FromURL extends up.Change{async execute(){let t=this.Vt();if(t)return up.puts("up.render()",t),up.network.loadPage(this.options),e.unresolvablePromise();let n=this.Xt(),i=this.request=up.request(n);return this.options.onRequestKnown?.(i),this.options.preload?i:(this.options.handleAbort({request:i,...n}),i.runPreviews(this.options),await e.always(i,(t=>this.Wt(t))))}Vt(){return e.isCrossOrigin(this.options.url)?"Loading cross-origin content in new page":this.options.history&&!up.browser.canPushState()?"Loading content in new page to restore history support":void 0}Xt(){const t=this.Gt(this.options),n=this.Gt(this.deriveFailOptions(),{optional:!0});return{...this.options,...t,...e.withRenamedKeys(n,up.fragment.failKey)}}getPreflightProps(){return this.Xt()}Gt(t,e){return new up.Change.FromContent({...t,preflight:!0}).getPreflightProps(e)}Wt(t){return t instanceof up.Response?this.Jt(t):this.Qt(t)}Jt(t){return new up.Change.FromResponse({...this.options,response:t}).execute()}Qt(t){throw t instanceof up.Offline&&this.request.emit("up:fragment:offline",{callback:this.options.onOffline,renderOptions:this.options,retry:t=>up.render({...this.options,...t}),log:["Cannot load fragment from %s: %s",this.request.description,t.reason]}),t}},e.memoizeMethod(t.prototype,{Xt:!0}),t)},1712:(t,e,n)=>{"use strict";n.r(e)},1739:()=>{const t=up.util;up.DestructorPass=class DestructorPass{constructor(t,e){this.Yt=t,this.A=e}run(){for(let e of this.Zt()){let n=t.pluckKey(e,"upDestructors");n?.clean(e)}}Zt(){const t={...this.A,destroying:!0};return up.fragment.subtree(this.Yt,".up-can-clean",t)}}},1915:()=>{up.form=function(){const t=up.util,e=up.element,n=new up.Config((()=>({groupSelectors:["[up-form-group]","fieldset","label","form"],fieldSelectors:["select","input:not([type=submit], [type=image], [type=button])","button[type]:not([type=submit], [type=button])","textarea"],submitSelectors:["form:is([up-submit], [up-target], [up-layer], [up-transition])"],noSubmitSelectors:["[up-submit=false]","[target]",e.crossOriginSelector("action")],submitButtonSelectors:["input[type=submit]","input[type=image]","button[type=submit]","button:not([type])"],genericButtonSelectors:["input[type=button]","button[type=button]"],validateBatch:!0,watchInputEvents:["input","change"],watchInputDelay:0,watchChangeEvents:["change"],watchableEvents:["input","change"],arrayParam:t=>t.endsWith("[]")})));function i(t=""){return n.fieldSelectors.map((e=>e+t)).join()}function s(t){return t.matches(i())}function r(n){n=e.get(n);let s=e.subtree(n,i());if(n.matches("form[id]")){const r=i(e.attrSelector("form",n.getAttribute("id"))),o=up.fragment.all(r,{layer:n});s=t.uniq([...s,...o])}return s}function o(t){return[...r(t),...u(t),...(i=t,e.subtree(i,n.selector("genericButtonSelectors")))];var i}function u(t){return e.subtree(t,h())}function a(t){return t?.matches(h())}function h(){return n.selector("submitButtonSelectors")}const c=up.mockable(((t,e)=>up.render(l(t,e))));function l(e,n,i){e=k(e=up.fragment.get(e)),n=t.options(n);let s=new up.OptionsParser(e,n,i);return s.include(m),s.string("failTarget",{default:up.fragment.tryToTarget(e)}),n.guardEvent||=up.event.build("up:form:submit",{submitButton:n.submitButton,log:"Submitting form",params:n.params,form:e}),n.origin||=up.viewport.focusedElementWithin(e)||n.submitButton||e,n.activeElements=t.uniq([n.origin,n.submitButton,e].filter(t.isElement)),s.include(up.link.followOptions),Object.assign(n,g(n.submitButton)),n}function p(e,n,i={}){n=t.options(n),i.closest??=!0,i.attrPrefix??="up-watch-";let s=new up.OptionsParser(e,n,i);s.include(up.status.statusOptions,i),s.string("event"),s.number("delay");let r=up.form.config;return"input"===n.event?(n.event=t.evalOption(r.watchInputEvents,e),n.delay??=r.watchInputDelay):"change"===n.event&&(n.event=t.evalOption(r.watchChangeEvents,e)),n.origin||=e,n}function f(t){if(t.disabled)return;let e;return document.activeElement===t?(e=v(t),t.disabled=!0,up.focus(e,{force:!0,preventScroll:!0})):t.disabled=!0,()=>{t.disabled=!1}}function d(e,n){let i=()=>E(n);return!0===e?[i()]:t.isElement(e)?[e]:t.isString(e)?up.fragment.subtree(i(),e,{origin:n}):t.isArray(e)?t.flatMap(e,(t=>d(t,n))):[]}function m(n,i,s){i=t.options(i),n=k(n);const r=new up.OptionsParser(n,i,s);r.string("contentType",{attr:"enctype"}),r.json("headers");const o=[up.Params.fromForm(n),e.jsonAttr(n,"up-params")],a=[e.jsonAttr(n,"up-headers")],h=i.submitButton??=u(n)[0];return h&&(o.push(up.Params.fromFields(h),e.jsonAttr(h,"up-params")),a.push(e.jsonAttr(h,"up-headers")),i.method||=h.getAttribute("formmethod"),i.url||=h.getAttribute("formaction")),i.params=up.Params.merge(...o,i.params),i.headers=t.merge(...a,i.headers),r.string("url",{attr:"action",default:up.fragment.source(n)}),r.string("method",{attr:["up-method","data-method","method"],default:"GET",normalize:t.normalizeMethod}),"GET"===i.method&&(i.url=up.Params.stripURL(i.url)),i}function g(e){if(!e)return{};let n=up.link.followOptions(e,{},{defaults:!1});return t.omit(n,["method","url","guardEvent","origin","params","headers"])}function y(...e){let[n,i,s]=t.args(e,"val","options","callback");return n=up.element.get(n),s||=function(t){let e=t.getAttribute("up-watch");if(e)return up.NonceableCallback.fromString(e).toFunction("value","name","options").bind(t)}(n)||up.fail("No callback given for up.watch()"),new up.FieldWatcher(n,i,s).start()}function w(t,e={}){return y(t,{logPrefix:"up.autosubmit()",...e,batch:!0},((e,n)=>c(t,n)))}function b(){return up.migrate.migratedFormGroupSelectors?.()||n.groupSelectors}function v(t){return _(t).element}function _(e){return t.findResult(b(),(function(t){let n=e.closest(t);if(n){let i=up.fragment.tryToTarget(n,{strong:!0}),s=up.fragment.tryToTarget(e),r=i||s&&n!==e&&`${t}:has(${s})`;if(r)return{target:r,element:n,origin:e}}}))}function k(t){return function(t){if(t instanceof HTMLFormElement)return t}(t)||function(t){return t.closest("form")}(t)||function(t){let n=t.getAttribute("form");if(n){let i="form"+e.idSelector(n);return up.fragment.get(i,{layer:t})}}(t)}function S(t){return t.upFormValidator||=function(t){const e=new up.FormValidator(t),n=e.start();return up.destructor(t,n),e}(t)}function E(t){return function(t){if(t)return k(t)||up.layer.get(t)?.element}(t)||up.layer.current.element}const x=up.mockable((function(...e){let[n,{guard:s},r]=t.args(e,"val","options","callback");return up.fragment.trackSelector(i(),{filter:function(e){let i=E(n);return t.filter(e,(function(t){return(n===i||n.contains(t))&&E(t)===i&&(!s||s(t))}))}},r)}));return up.on("submit",n.selectorFn("submitSelectors"),(function(e,n){const i=t.presence(e.submitter,a);"false"!==i?.getAttribute("up-submit")&&(e.defaultPrevented||(up.event.halt(e,{log:!0}),up.error.muteUncriticalRejection(c(n,{submitButton:i}))))})),up.compiler("[up-validate]",{rerun:!0},(function(t){let e=k(t);e&&S(e)})),up.compiler("[up-switch]",(t=>new up.Switcher(t).start())),up.attribute("up-watch",(t=>y(t))),up.attribute("up-autosubmit",(t=>w(t,{logPrefix:"[up-autosubmit]"}))),{config:n,submit:c,submitOptions:l,destinationOptions:m,submitButtonOverrides:g,watchOptions:p,validateOptions:function(e,i,s={}){i=t.options(i);let r=new up.OptionsParser(e,i,{...s,closest:!0,attrPrefix:"up-validate-"});return r.string("url"),r.string("method",{normalize:t.normalizeMethod}),r.boolean("batch",{default:n.validateBatch}),r.json("params"),r.json("headers"),r.include(p,{defaults:{event:"change"}}),i},isSubmittable:function(t){return t=up.fragment.get(t),n.matches(t,"submitSelectors")},watch:y,validate:function(...e){let n=function(e,...n){const i=t.extractOptions(n);return i.origin?i.target||=up.fragment.toTarget(e):i.origin||=up.fragment.get(e),i}(...e);return S(k(n.origin)).validate(n)},autosubmit:w,fieldSelector:i,fields:r,trackFields:x,isField:s,submitButtons:u,focusedField:function(){return t.presence(document.activeElement,s)},disableTemp:function(e){let n=o(e);return t.sequence(t.map(n,f))},setDisabled:function(t,e){for(let n of o(t))n.disabled=e},getDisablePreviewFn:function(t,e){return function(n){let i=d(t,e);for(let t of i)n.disable(t)}},group:v,groupSolution:_,groupSelectors:b,get:k,getRegion:E}}(),up.submit=up.form.submit,up.watch=up.form.watch,up.autosubmit=up.form.autosubmit,up.validate=up.form.validate},2009:()=>{var t;up.Layer.Modal=((t=class Modal extends up.Layer.OverlayWithViewport{}).mode="modal",t)},2049:()=>{const t=up.util,e=up.element;up.MotionController=class MotionController{constructor(t){this.te=`up-${t}`,this.ee=`.${this.te}`,this.finishEvent=`up:${t}:finish`,this.finishCount=0,this.ne=0}startFunction(t,n,i={}){t=e.list(t);const s=()=>up.error.muteUncriticalRejection(n());if(i.trackMotion=i.trackMotion??up.motion.isEnabled(),!1===i.trackMotion)return s();{i.trackMotion=!1,this.finish(t),this.ie(t);let e=this.se(t,s);return e=e.then((()=>this.re(t))),e}}finish(t){if(this.finishCount++,0!==this.ne&&up.motion.isEnabled()){t=this.oe(t);for(let e of t)this.ue(e);return up.migrate.formerlyAsync?.("up.motion.finish()")}}oe(n){return n?t.flatMap(n,(t=>e.list(t.closest(this.ee),t.querySelectorAll(this.ee)))):document.querySelectorAll(this.ee)}isActive(t){return t.classList.contains(this.te)}ue(t){this.ae(t)}ae(t,e={}){return e={target:t,log:!1,...e},up.emit(this.finishEvent,e)}ie(t){this.ne++,this.he(t,!0)}re(t){this.ne--,this.he(t,!1)}he(t,e){for(let n of t)n.classList.toggle(this.te,e)}se(t,e){if(t.length<2)return e();const n=up.on(t,this.finishEvent,(e=>{if(!e.forwarded)for(let n of t)n!==e.target&&this.isActive(n)&&this.ae(n,{forwarded:!0})}));return e().then(n)}async reset(){await this.finish(),this.finishCount=0,this.ne=0}}},2077:()=>{const t=up.element;up.ProgressBar=class ProgressBar{constructor(){this.ce=0,this.ut=t.affix(document.body,"up-progress-bar"),this.ut.style.transition="width 300ms ease-out",this.le(0),t.paint(this.ut),this.pe=31,this.fe()}fe(){let t;t=this.pe<80?Math.random()<.15?7+5*Math.random():1.5+.5*Math.random():.13*(100-this.pe)*Math.random(),this.le(this.pe+t),this.ce++;const e=300+40*this.ce;this.timeout=setTimeout(this.fe.bind(this),e)}le(t){this.pe=t,this.ut.style.width=`${t}vw`}destroy(){clearTimeout(this.timeout),this.ut.remove()}conclude(){clearTimeout(this.timeout),this.le(100),setTimeout(this.destroy.bind(this),300)}}},2084:()=>{up.Layer.OverlayWithViewport=class OverlayWithViewport extends up.Layer.Overlay{static getParentElement(){return document.body}createElements(){up.viewport.bodyShifter.raiseStack(),this.createElement(this.constructor.getParentElement()),this.backdrop&&this.createBackdropElement(this.element),this.createViewportElement(this.element),this.createBoxElement(this.viewportElement),this.createContentElement(this.boxElement)}onElementsRemoved(){up.viewport.bodyShifter.lowerStack()}sync(){this.isDetached()&&this.isAlive()&&this.constructor.getParentElement().appendChild(this.element)}}},2113:()=>{const t=up.util;up.Change.CloseLayer=class CloseLayer extends up.Change{constructor(t){super(t),this.de=t.verb,this.layer=up.layer.get(t),this.me=t.origin,this.ge=t.value,this.ye=t.preventable??!0,this.we=t.response,this.be=t.history??!0}execute(){if(this.ensureLayerAlive(),up.browser.assertConfirmed(this.options),this.ve().defaultPrevented&&this.ye)throw new up.Aborted("Close event was prevented");this._e(),up.fragment.abort({reason:"Layer is closing",layer:this.layer}),this.layer.state="closing";const{parent:t}=this.layer;this.layer.peel(),this.p(t),this.layer.teardownHandlers(),this.layer.destroyElements(this.options),this.layer.stack.remove(this.layer),this.be&&t.restoreHistory(),this.layer.state="closed",this.ke(t)}ve(){let e=this.layer.emit(this.Se(`up:layer:${this.de}`),{callback:this.layer.callback(`on${t.upperCaseFirst(this.de)}`),log:[`Will ${this.de} ${this.layer} with value %o`,this.ge]});return this.ge=e.value,e}_e(){let t=this.Se(`up:layer:${this.de}ing`);this.layer.emit(t,{log:!1})}ke(e){const n=`${this.de}ed`,i=t.upperCaseFirst(n);return this.layer.emit(this.Se(`up:layer:${n}`),{baseLayer:e,callback:this.layer.callback(`on${i}`),ensureBubbles:!0,log:[`${i} ${this.layer} with value %o`,this.ge]})}Se(t){return up.event.build(t,{layer:this.layer,value:this.ge,origin:this.me,response:this.we})}p(t){let e=this.layer.hasFocus();if(this.layer.overlayFocus.teardown(),t.overlayFocus?.moveToFront(),e){let e=this.layer.origin||t.element;up.focus(e,{preventScroll:!0})}}}},2175:()=>{const t=up.util,e=up.element;up.CSSTransition=class CSSTransition{constructor(t,e,n){this.ut=t,this.Ee=e,this.xe=Object.keys(this.Ee),this.Oe=n.finishEvent,this.Te=n.duration,this.Fe=n.easing,this.Ce=!1}start(){return 0===this.xe.length?(this.Ce=!0,Promise.resolve()):(this.Re=t.newDeferred(),this.Le(),this.Ae=new Date,this.Pe(),this.De(),this.$e(),this.Me(),this.Re)}De(){this.Oe&&(this.He=up.on(this.ut,this.Oe,this.Ne.bind(this)))}Ne(t){t.stopPropagation(),this.l()}Pe(){this.je=t.timer(this.Te+100,(()=>this.l()))}Be(){clearTimeout(this.je)}$e(){this.qe=up.on(this.ut,"transitionend",this.Ie.bind(this))}Ie(e){if(e.target!==this.ut)return;if(new Date-this.Ae<=.25*this.Te)return;const n=e.propertyName;t.contains(this.xe,n)&&this.l()}l(){this.Ce||(this.Ce=!0,this.Be(),this.He?.(),this.qe?.(),e.concludeCSSTransition(this.ut),this.ze(),this.Re.resolve())}Le(){const t=e.style(this.ut,["transition-property","transition-duration","transition-delay","transition-timing-function"]);if(e.hasCSSTransition(t)){if("all"!==t["transition-property"]){const n=t["transition-property"].split(/\s*,\s*/),i=e.style(this.ut,n);this.Ue=e.setStyleTemp(this.ut,i)}this.Ke=e.concludeCSSTransition(this.ut)}}ze(){this.Ue?.(),this.Ke?.()}Me(){e.setStyle(this.ut,{"transition-property":this.xe.join(),"transition-duration":`${this.Te}ms`,"transition-timing-function":this.Fe}),e.setStyle(this.ut,this.Ee)}}},2459:()=>{const t=up.util;up.FragmentProcessor=class FragmentProcessor extends up.Record{keys(){return["fragment","autoMeans","origin","layer"]}process(t){let e=this.preprocess(t);return this.tryProcess(e)}preprocess(e){return t.getComplexTokens(e)}tryProcess(e){if(t.isArray(e))return this.processArray(e);if(t.isFunction(e)){let t=up.error.guard(e,this.fragment,this.attributes());return this.tryProcess(t)}if(t.isElement(e))return this.processElement(e);if(t.isString(e)){if("auto"===e)return this.tryProcess(this.autoMeans);let t=e.match(/^(.+?)-if-(.+?)$/);if(t)return this.resolveCondition(t[2])&&this.process(t[1])}return this.processPrimitive(e)}processArray(e){return t.find(e,(t=>this.tryProcess(t)))}resolveCondition(t){if("main"===t)return this.fragment&&up.fragment.contains(this.fragment,":main")}findSelector(t){const e={layer:this.layer,origin:this.origin};let n=this.fragment&&up.fragment.get(this.fragment,t,e)||up.fragment.get(t,e);if(n)return n;up.warn("up.render()",'Could not find an element matching "%s"',t)}}},2487:()=>{up.Error=class Error extends window.Error{constructor(t,e={}){Array.isArray(t)&&(t=up.util.sprintf(...t)),super(t);let n="up."+this.constructor.name;Object.assign(this,{name:n},e)}}},2679:()=>{up.motion=function(){const t=up.util,e=up.element,n=new up.MotionController("motion"),i=new up.Config((()=>({duration:175,easing:"ease",enabled:!matchMedia("(prefers-reduced-motion: reduce)").matches})));let s=new up.Registry("animation",p),r=new up.Registry("transition",c);function o(){return i.enabled}function u(t,n,i){return h(i),o()&&!d(n)&&i.duration>0&&!e.isSingleton(t)}function a(t,e,i){return up.migrate.loaded&&(e=up.migrate.fixSetStyleProps(e)),i={...i,finishEvent:n.finishEvent},new up.CSSTransition(t,e,i).start()}function h(t){t.easing??=i.easing,t.duration??=i.duration}function c(e){return d(e)?void 0:t.isFunction(e)?e:t.isArray(e)?l(...e):t.isString(e)&&e.includes("/")?l(...e.split("/")):r.get(e)}function l(e,n){if(!d(e)&&!d(n)){const i=p(e)||t.asyncNoop,s=p(n)||t.asyncNoop;return(t,e,n)=>Promise.all([i(t,n),s(e,n)])}}function p(e){return d(e)?void 0:t.isFunction(e)?e:t.isOptions(e)?(t,n)=>a(t,e,n):s.get(e)}const f=up.mockable((function(t,e){t.replaceWith(e)}));function d(t){return!t||"none"===t}function m(t,e,n){s.put(t,(function(t,i){return t.style.opacity=e,a(t,{opacity:n},i)}))}function g(t,e){return{transform:`translate(${t}px, ${e}px)`}}function y(t){return e.setStyle(t,{transform:""}),t.getBoundingClientRect()}function w(t,n){const i=`move-to-${t}`,r=`move-from-${t}`;s.put(i,(function(t,e){const i=y(t);return a(t,n(i),e)})),s.put(r,(function(t,i){const s=y(t),r=n(s);return e.setStyle(t,r),a(t,{transform:""},i)}))}return up.on("up:framework:boot",(function(){o()||up.puts("up.motion","Animations are disabled")})),m("fade-in",0,1),m("fade-out",1,0),w("top",(function(t){return g(0,-(t.top+t.height))})),w("bottom",(function(t){return g(0,up.viewport.rootHeight()-t.top)})),w("left",(function(t){return g(-(t.left+t.width),0)})),w("right",(function(t){return g(up.viewport.rootWidth()-t.left,0)})),r.put("cross-fade",["fade-out","fade-in"]),r.put("move-left",["move-to-left","move-from-right"]),r.put("move-right",["move-to-right","move-from-left"]),r.put("move-up",["move-to-top","move-from-bottom"]),r.put("move-down",["move-to-bottom","move-from-top"]),up.on("up:framework:reset",(function(){n.reset()})),{morph:function(i,s,r,o){h(o=t.options(o)),i=up.fragment.get(i),s=up.fragment.get(s);let a=c(r);const l=u(i,a,o);a=up.error.guardFn(a);const p=t.pluckKey(o,"beforeStart")||t.noop,d=t.pluckKey(o,"afterInsert")||t.noop,m=t.pluckKey(o,"beforeDetach")||t.noop,g=t.pluckKey(o,"afterDetach")||t.noop,y=t.pluckKey(o,"scrollNew")||t.noop;if(p(),l){if(n.isActive(i)&&!1===o.trackMotion)return a(i,s,o);up.puts("up.morph()","Morphing %o to %o with transition %O over %d ms",i,s,r,o.duration);const t=up.viewport.get(i),u=t.scrollTop,h=up.viewport.absolutize(i,{afterMeasure(){e.insertBefore(i,s),d()}}),c=async function(){y();const e=t.scrollTop;h.moveBounds(0,e-u),await a(i,s,o),m(),h.bounds.remove(),g()};return n.startFunction([i,s],c,o)}return m(),f(i,s),d(),g(),y(),Promise.resolve()},animate:function(i,s,r){i=up.fragment.get(i),r=t.options(r);let o=p(s);const a=u(i,s,r);if(o=up.error.guardFn(o),a){const t=()=>o(i,r);return n.startFunction(i,t,r)}return function(n,i){return t.isOptions(i)&&e.setStyle(n,i),Promise.resolve()}(i,s)},finish:function(t){return n.finish(t)},finishCount:()=>n.finishCount,transition:r.put,animation:s.put,config:i,isEnabled:o,isNone:d,willAnimate:u,swapElementsDirectly:f,motionOptions:function(e,n,i){n=t.options(n);let s=new up.OptionsParser(e,n,i);return s.booleanOrString("animation"),s.booleanOrString("transition"),s.string("easing"),s.number("duration"),n}}}(),up.transition=up.motion.transition,up.animation=up.motion.animation,up.morph=up.motion.morph,up.animate=up.motion.animate},2771:()=>{up.status=function(){const t=up.util,e=up.element,n=new up.Config((()=>({currentClasses:["up-current"],activeClasses:["up-active"],loadingClasses:["up-loading"],navSelectors:["[up-nav]","nav"],noNavSelectors:["[up-nav=false]"]})));let i=new up.Registry("preview");function s(t){return t.upCurrentURLs||=new up.LinkCurrentURLs(t)}function r(i,r,{newLinks:o,anyLocationChanged:a}){let h=!a&&i.upNavLocations||function(n){let i=e.attr(n,"up-layer")||"origin",s=up.layer.getAll(i,{origin:n});return t.compact(s.map(u))}(i);if(o||!t.isEqual(i.upNavLocations,h)){for(let t of r){const i=s(t).isAnyCurrent(h);for(let e of n.currentClasses)t.classList.toggle(e,i);e.setAttrPresence(t,"aria-current","page",i)}i.upNavLocations=h}}function o(t,i){const s=n.selector("navSelectors"),o=e.around(t,s);for(let t of o)r(t,e.subtree(t,"a, [up-href]"),i)}function u(e){return t.matchableURL(e.location)}function a(t){return t.upExpandedPair||[t]}function h(t){if(t)return function(e){e.showPlaceholder(t)}}function c(e){return t.isFunction(e)?[e]:t.isString(e)?(n=e,t.map(t.parseScalarJSONPairs(n),(([t,e])=>{let n=i.get(t);return function(i,s){return up.puts("[up-preview]","Showing preview %o",t),n(i,e||s)}}))):t.isArray(e)?e.flatMap(c):[];var n}return up.on("up:fragment:compile",((t,e)=>{o(e,{newLinks:!0,anyLocationChanged:!1})})),up.on("up:layer:location:changed up:layer:opened up:layer:dismissed up:layer:accepted",(()=>{o(document.body,{newLinks:!1,anyLocationChanged:!0})})),{config:n,preview:i.put,resolvePreviewFns:c,runPreviews:function(i,s){let{bindLayer:r}=i,o=up.FocusCapsule.preserve(r),u=r.asCurrent((()=>function(i,s){let{fragment:r,fragments:o,origin:u}=i,l=t.cleaner(),p=t=>new up.Preview({fragment:t,request:i,renderOptions:s,cleaner:l}),f=p(r);f.run(c(s.preview)),f.run(h(s.placeholder)),f.run(function(e,i){if(e)return function(e){e.addClassBatch(function({origin:e,activeElements:n}){return n||=t.wrapList(e),t.flatMap(n,a)}(e.renderOptions),n.activeClasses),e.addClassBatch(i,n.loadingClasses)}}(s.feedback,o)),f.run(up.form.getDisablePreviewFn(s.disable,u));for(let t of o){let n=p(t);n.run(e.matchSelectorMap(s.previewMap,t)),n.run(e.matchSelectorMap(s.placeholderMap,t).flatMap(h))}return l.clean}(i,s)));return o?.autoVoid(),()=>{r.asCurrent(u),o?.restore(r,{preventScroll:!0})}},statusOptions:function(e,n,i){n=t.options(n);const s=new up.OptionsParser(e,n,i);return s.booleanOrString("disable"),s.boolean("feedback"),s.string("preview"),s.booleanOrString("revalidatePreview"),s.string("placeholder"),n}}}(),up.preview=up.status.preview},3106:()=>{up.script=function(){const t=up.util,e=up.element,n=new up.Config((()=>({assetSelectors:["link[rel=stylesheet]","script[src]","[up-asset]"],noAssetSelectors:["[up-asset=false]"],nonceableAttributes:["up-watch","up-on-keep","up-on-hungry","up-on-opened","up-on-accepted","up-on-dismissed","up-on-loaded","up-on-rendered","up-on-finished","up-on-error","up-on-offline"],scriptSelectors:["script:not([type])",'script[type="text/javascript"]','script[type="module"]','script[type="importmap"]'],noScriptSelectors:['script[type="application/ld+json"]']}))),i={"[up-back]":-100,"[up-clickable]":-200,"[up-drawer]":-200,"[up-modal]":-200,"[up-cover]":-200,"[up-popup]":-200,"[up-tooltip]":-200,"[up-dash]":-200,"[up-flashes]":-200,"[up-expand]":-300,"[data-method]":-400,"[data-confirm]":-400,"[up-keep]":9999999999};let s=[],r=[];function o(e,n={}){let o=function(e,n){let[i,s,r]=u(e);return s=t.options(s,{selector:i,isDefault:up.framework.evaling,priority:0,batch:!1,rerun:!1}),Object.assign(r,s,n)}(e,n);o.macro?(up.framework.evaling&&(o.priority||=function(e){e=t.evalOption(e);for(let t in i)if(e.indexOf(t)>=0)return i[t];up.fail("Unregistered priority for system macro %o",e)}(o.selector)),a(r,o)):a(s,o)}const u=function(e){return t.args(e,"val","options","callback")};function a(t,e){let n,i=0;for(;(n=t[i])&&n.priority>=e.priority;)i+=1;if(t.splice(i,0,e),up.framework.booted)if(0===e.priority)for(let t of up.layer.stack)h(t.element,{layer:t,compilers:[e]});else up.puts("up.compiler()","Compiler %s was registered after booting Unpoly. Compiler will run for future fragments only.",e.selector);return e}function h(t,e){up.emit(t,"up:fragment:compile",{log:!1});let n=e.compilers||r.concat(s);return new up.CompilerPass(t,n,e).run()}function c(t=document.head){return t.querySelectorAll(n.selector("assetSelectors"))}function l(t,i=""){let s=n.selector("scriptSelectors")+i;return e.subtree(t,s)}return up.on("up:framework:reset",(function(){s=t.filter(s,"isDefault"),r=t.filter(r,"isDefault")})),{config:n,compiler:function(...t){o(t)},macro:function(...t){o(t,{macro:!0})},attrCompiler:function(...n){let[i,s,r]=u(n),a=`[${i}]`,{defaultValue:h}=s;o([a,s,n=>{let s=e.booleanOrStringAttr(n,i);if(!1!==s)return t.isDefined(h)&&!0===s&&(s=h),r(n,s)}])},destructor:function(n,i){let s=t.scanFunctions(i);if(s.length)if(n.isConnected)(n.upDestructors||=function(n){let i=t.cleaner();return i(e.addClassTemp(n,"up-can-clean")),i}(n)).guard(s);else{up.puts("up.destructor()","Immediately calling destructor for detached element (%o)",n);for(let t of s)up.error.guard(t,n)}},hello:async function(t,e={}){return t=up.fragment.get(t,e),up.puts("up.hello()","Compiling fragment %o",t),await up.fragment.mutate((async()=>{let n=h(t,e);up.fragment.emitInserted(t),await n})),t},clean:function(t,e={}){new up.DestructorPass(t,e).run()},data:function(n){return n=up.fragment.get(n),n.upData||=function(n){let i=e.jsonAttr(n,"up-data")??{};return t.isOptions(i)?{...n.upTemplateData,...n.dataset,...i,...n.upCompileData}:i}(n)},findAssets:c,assertAssetsOK:function(e,n){let i=c();t.map(i,"outerHTML").join()!==t.map(e,"outerHTML").join()&&up.event.assertEmitted("up:assets:changed",{oldAssets:i,newAssets:e,renderOptions:n})},disableSubtree:function(t,e=()=>!0){for(let n of l(t))e(n)&&(n.type="up-disabled-script")},adoptNoncesInSubtree:function(t,i){let s=up.protocol.cspNonce();if(i?.length&&s){for(let e of l(t,"[nonce]"))i.includes(e.nonce)&&(e.nonce=s);for(let r of n.nonceableAttributes){let n=e.subtree(t,`[${r}^="nonce-"]`);for(let t of n){let e=t.getAttribute(r),n=up.NonceableCallback.fromString(e);i.includes(n.nonce)&&(n.nonce=s,t.setAttribute(r,n.toString()))}}}},isScript:function(t){return n.matches(t,"scriptSelectors")}}}(),up.compiler=up.script.compiler,up.destructor=up.script.destructor,up.macro=up.script.macro,up.data=up.script.data,up.hello=up.script.hello,up.attribute=up.script.attrCompiler},3126:()=>{var t;const e=up.element;up.Layer.Root=((t=class Root extends up.Layer{get element(){return e.root}constructor(t){super(t),this.setupHandlers()}getFirstSwappableElement(){return document.body}static selector(){return"html"}setupHandlers(){this.element.upHandlersApplied||(this.element.upHandlersApplied=!0,super.setupHandlers())}sync(){this.setupHandlers()}isAlive(){return!0}accept(){this.Ve()}dismiss(){this.Ve()}Ve(){up.fail("Cannot close the root layer")}toString(){return"root layer"}}).mode="root",t)},3194:()=>{up.radio=function(){const t=up.element,e=new up.Config((()=>({hungrySelectors:["[up-hungry]"],noHungrySelectors:["[up-hungry=false]"],pollInterval:3e4})));return up.attribute("up-poll",(function(t){up.FragmentPolling.forFragment(t).onPollAttributeObserved()})),up.macro("[up-flashes]",(function(e){t.setMissingAttrs(e,{"up-hungry":"","up-if-layer":"subtree","up-keep":"",role:"alert"}),e.addEventListener("up:fragment:keep",(function(e){t.isEmpty(e.newFragment)||e.preventDefault()}))})),{config:e,hungrySteps:function(n){let{hungry:i,origin:s,layer:r,meta:o}=n,u={current:[],other:[]};if(!i)return u;let a=e.selector("hungrySelectors");const h=[r,...r.ancestors,...r.descendants];for(let e of h){let i=up.fragment.all(e.element,a,{layer:e});for(let a of i){let i=up.fragment.tryToTarget(a,{origin:s});if(!i){up.warn("[up-hungry]","Ignoring untargetable fragment %o",a);continue}let h=t.attr(a,"up-if-layer"),c=h?up.layer.getAll(h,{baseLayer:e}):[e],l={selector:i,oldElement:a,layer:e,origin:s,...up.motion.motionOptions(a),placement:"swap",keep:!0,maybe:!0,meta:o,selectEvent:up.event.build("up:fragment:hungry",{log:!1}),selectCallback:t.callbackAttr(a,"up-on-hungry",{exposedKeys:["newFragment","renderOptions"]}),originalRenderOptions:n};c.includes(r)&&(r===e?u.current:u.other).push(l)}}return u.other=up.fragment.compressNestedSteps(u.other),u},startPolling:function(t,e={}){up.FragmentPolling.forFragment(t).forceStart(e)},stopPolling:function(t){up.FragmentPolling.forFragment(t).forceStop()},pollOptions:function(t,n={}){const i=new up.OptionsParser(t,n,{defaults:{background:!0}});return i.number("interval",{default:e.pollInterval}),i.string("ifLayer",{default:"front"}),i.include(up.link.requestOptions),i.include(up.status.statusOptions),n}}}()},3383:()=>{var t;up.Layer.Cover=((t=class Cover extends up.Layer.OverlayWithViewport{}).mode="cover",t)},3394:()=>{up.Rect=class Rect extends up.Record{keys(){return["left","top","width","height"]}get bottom(){return this.top+this.height}get right(){return this.left+this.width}grow(t){this.left-=t,this.top-=t,this.width+=2*t,this.height+=2*t}static fromElement(t){return new this(t.getBoundingClientRect())}static fromElementAsFixed(t){let e=t.cloneNode(!0);t.after(e),e.style.position="fixed";let n=this.fromElement(e);return e.remove(),n}}},3441:()=>{const t=up.util;up.EventListenerGroup=class EventListenerGroup extends up.Record{keys(){return["elements","eventTypes","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}bind(){const e=t.cleaner();return this.Xe((function(t){const n=new up.EventListener(t);return n.bind(),e(n.unbind.bind(n))})),e.clean}Xe(t){for(let e of this.elements)for(let n of this.eventTypes)t(this.We(e,n))}We(t,e){return{...this.attributes(),element:t,eventType:e}}unbind(){this.Xe((function(t){let e=up.EventListener.fromElement(t);e&&e.unbind()}))}static fromBindArgs(e,n){const i=(e=t.copy(e)).pop();let s;s=e[0].addEventListener?[e.shift()]:t.isJQuery(e[0])||t.isList(e[0])&&e[0][0].addEventListener?e.shift():[document];let r=t.getSimpleTokens(e.shift()),o=up.migrate.fixEventTypes;o&&(r=o(r));const u=t.extractOptions(e);return new this({elements:s,eventTypes:r,selector:e[0],callback:i,...u,...n})}}},3526:()=>{const t=up.util,e=up.element;up.Config=class Config{constructor(t=()=>({})){this.Ge=t,this.reset(),document.addEventListener("up:framework:reset",(()=>this.reset()))}reset(){Object.assign(this,this.Ge())}matches(t,e){return t.matches(this.selector(e))}selector(n){let i=this[n],s=this["no"+t.upperCaseFirst(n)];return e.unionSelector(i,s)}selectorFn(t){return()=>this.selector(t)}}},3530:()=>{const t=up.util;up.URLPattern=class URLPattern{constructor(e){this.Je=[];const n=[],i=[];for(let s of t.getSimpleTokens(e))"-"===s[0]?i.push(s.substring(1)):n.push(s);this.Qe=this.Ye(n,!0),this.Ze=this.Ye(i,!1)}Ye(e,n){if(!e.length)return;let i=(e=(e=t.flatMap(e,t.matchableURLPatternAtom)).map(t.escapeRegExp)).join("|");return i=i.replace(/\\\*/g,".*?"),i=i.replace(/(:|\\\$)([a-z][\w-]*)/gi,((t,e,i)=>"\\$"===e?(n&&this.Je.push({name:i,cast:Number}),"(\\d+)"):(n&&this.Je.push({name:i,cast:String}),"([^/?#]+)"))),new RegExp("^(?:"+i+")$")}test(e,n=!0){return n&&(e=t.matchableURL(e)),this.Qe.test(e)&&!this.tn(e)}recognize(e,n=!0){n&&(e=t.matchableURL(e));let i=this.Qe.exec(e);if(i&&!this.tn(e)){const t={};return this.Je.forEach(((e,n)=>{let s=i[n+1];if(s)return t[e.name]=e.cast(s)})),t}}tn(t){return this.Ze?.test(t)}}},3728:()=>{const t=up.element,e=up.util;up.FragmentPolling=class FragmentPolling{static forFragment(t){return t.upPolling||=new this(t)}constructor(t){this.A=up.radio.pollOptions(t),this.Yt=t,up.destructor(t,this.en.bind(this)),this.nn="stopped",this.sn=null,this.rn=e.uid(),this.un=!1,this.an()}onPollAttributeObserved(){this.hn()}cn({newLayer:t,jid:e}){e===this.rn||t||this.ln()}pn(){"stop"!==this.sn&&this.hn()}en(){this.ln()}hn(t){if(Object.assign(this.A,t),"stopped"===this.nn){if(!up.fragment.isTargetable(this.Yt))return void up.warn("[up-poll]","Cannot poll untargetable fragment %o",this.Yt);this.nn="started",this.fn(),this.dn()}}ln(){"started"===this.nn&&(this.mn(),this.nn="stopped")}forceStart(t){Object.assign(this.A,t),this.sn="start",this.hn()}forceStop(){this.sn="stop",this.ln()}fn(){this.gn||(this.gn=!0,up.destructor(this.Yt,up.on("visibilitychange up:layer:opened up:layer:dismissed up:layer:accepted",this.yn.bind(this))),up.fragment.onAborted(this.Yt,this.cn.bind(this)),up.fragment.onKept(this.Yt,this.pn.bind(this)))}yn(){this.wn()?this.dn():this.mn()}wn(){return!document.hidden&&("any"===this.A.ifLayer||this.bn())}mn(){clearTimeout(this.vn),this.vn=null}dn(){this.vn||this.un||"stopped"===this.nn||(this.mn(),this.vn=setTimeout(this._n.bind(this),this.kn()))}_n(){this.vn=null,this.Sn()}Sn(){if("stopped"!==this.nn)return up.fragment.isAlive(this.Yt)?void(this.wn()?this.En():up.puts("[up-poll]","Will not poll hidden fragment")):(this.ln(),void up.puts("[up-poll]","Stopped polling a detached fragment"))}xn(){return this.A.interval??t.numberAttr(this.Yt,"up-interval")??up.radio.config.pollInterval}kn(){return Math.max(this.xn()-this.On(),0)}On(){return new Date-this.Tn}bn(){return this.layer||=up.layer.get(this.Yt),this.layer?.isFront?.()}En(){this.mn(),this.un=!0;let t=up.event.build("up:fragment:poll",{log:["Polling fragment",this.Yt]}),e={...this.A,guardEvent:t,jid:this.rn};up.reload(this.Yt,e).then(this.Fn.bind(this),this.Cn.bind(this))}Fn({fragment:t}){this.un=!1,this.an(),t?this.Rn(t):this.dn()}Rn(t){"start"===this.sn&&up.fragment.matches(this.Yt,t)&&this.constructor.forFragment(t).forceStart(this.A)}Cn(t){this.un=!1,this.an(),this.dn(),up.error.throwCritical(t)}an(){this.Tn=new Date}}},3889:()=>{up.util=function(){function t(){}function e(t,e){e=P(e,{host:"cross-domain"});const n=o(t);let i="";"cross-domain"===e.host&&(e.host=r(n)),e.host&&(i+=n.protocol+"//"+n.host);let{pathname:s}=n;return!1===e.trailingSlash&&"/"!==s&&(s=s.replace(/\/$/,"")),i+=s,!1!==e.search&&(i+=n.search),!1!==e.hash&&(i+=n.hash),i}function n(t,n){if(t)return e(t,{hash:!1,trailingSlash:!1,...n})}const i=location.protocol,s=location.hostname;function r(t){if(v(t)&&-1===t.indexOf("//"))return!1;const e=o(t);return s!==e.hostname||i!==e.protocol}function o(t){if(t.pathname)return t;let e=document.createElement("a");return e.href=t,e}function u(t){return v(t)?e=>e[t]:t}function a(t,e){if(0===t.length)return[];e=u(e);let n=[],i=0;for(let s of t)n.push(e(s,i++));return n}function h(t,e){return Object.fromEntries(t.map(e))}function c(t,e){let n=0;for(let i of t)e(i,n++)}function l(t){return null===t}function p(t){return!!t}function f(t){return void 0===t}const d=it(f);function m(t){return f(t)||l(t)}const g=it(m);function y(t){return!!m(t)||(S(t)&&t[y.key]?t[y.key]():v(t)||F(t)?0===t.length:!!k(t)&&0===Object.keys(t).length)}y.key="up.util.isBlank";const w=it(y);function b(t){return"function"==typeof t}function v(t){return"string"==typeof t||t instanceof String}function _(t){return"number"==typeof t||t instanceof Number}function k(t){return"object"==typeof t&&!l(t)&&(f(t.constructor)||t.constructor===Object)}function S(t){const e=typeof t;return"object"===e&&!l(t)||"function"===e}function E(t){return t instanceof Element}function x(t){return t instanceof RegExp}function O(t){return up.browser.canJQuery()&&t instanceof jQuery}const{isArray:T}=Array;function F(t){return T(t)||function(t){return t instanceof NodeList}(t)||function(t){return"[object Arguments]"===Object.prototype.toString.call(t)}(t)||O(t)||function(t){return t instanceof HTMLCollection}(t)}function C(t){return F(t)?t:m(t)?[]:[t]}function R(t){return S(t)&&t[R.key]?t=t[R.key]():F(t)?t=L(t):k(t)&&(t=Object.assign({},t)),t}function L(t){return Array.prototype.slice.call(t)}function A(...t){return Object.assign({},...t)}function P(t,e){return e?A(e,t):t?R(t):{}}function D(t,e){e=u(e);let n=0;for(let i of t){const t=e(i,n++);if(t)return t}}function $(t,e){e=u(e);let n=!0,i=0;for(let s of t)if(!e(s,i++)){n=!1;break}return n}function M(t,e){e=u(e);const n=[];return c(t,(function(t,i){if(e(t,i))return n.push(t)})),n}function H(t){return t[t.length-1]}function N(t,e){return(t.indexOf||Array.prototype.indexOf).call(t,e)>=0}function j(t,e){const n={};for(let i of e)i in t&&(n[i]=t[i]);return n}function B(t,e){e=u(e);const n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function q(t,...e){return b(t)?t(...e):t}R.key="up.util.copy",Date.prototype[R.key]=function(){return new Date(+this)};const I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};function z(t,e){const n=t[e];return delete t[e],n}function U(t,e){if(e(H(t)))return t.pop()}function K(t){return U(t,b)}function V(t){return U(t,k)||{}}function X(t){return t}function W(t){const e=[];for(let n of t)F(n)?e.push(...n):e.push(n);return e}function G(t,e){return t===e||(t?.valueOf&&(t=t.valueOf()),e?.valueOf&&(e=e.valueOf()),t===e||typeof t==typeof e&&(F(t)&&F(e)?J(t,e):S(t)&&t[G.key]?t[G.key](e):!(!k(t)||!k(e))&&function(t,e){const n=Object.keys(t);return J(n,Object.keys(e))&&$(n,(n=>G(t[n],e[n])))}(t,e)))}function J(t,e){return t.length===e.length&&$(t,((t,n)=>G(t,e[n])))}function Q(t,e){return(up.migrate.splitAtOr?.(t)||t.split(e)).map((t=>t.trim())).filter(X)}function Y(t){let{masked:e,restore:n}=lt(t);return{maskedTokens:Q(e,","),restore:n}}G.key="up.util.isEqual";let Z=0;function tt(t,e,n){for(let i of e)Object.defineProperty(t,i,{get(){const t=n.call(this);let e=t[i];return b(e)&&(e=e.bind(t)),e},set(t){n.call(this)[i]=t}})}function et(t,e="%o"){let n;if("%c"===e)return"";if("%s"===e&&g(t)&&(t=t.toString()),v(t))n=t.trim().replace(/[\n\r\t ]+/g," "),"%o"===e&&(n=JSON.stringify(n));else if(f(t))n="undefined";else if(_(t)||b(t))n=t.toString();else if(T(t))n=`[${a(t,et).join(", ")}]`;else if(O(t))n=`$(${a(t,et).join(", ")})`;else if(E(t)){n=`<${t.tagName.toLowerCase()}`;for(let e of["id","up-id","name","class"]){let i=t.getAttribute(e);i&&(n+=` ${e}="${i}"`)}n+=">"}else if(x(t)||t instanceof Error)n=t.toString();else try{n=JSON.stringify(t)}catch(t){if("TypeError"!==t.name)throw t;n="(circular structure)"}return n.length>200&&(n=`${n.substr(0,200)}…${H(n)}`),n}const nt=/%[oOdisfc]/g;function it(t){return function(...e){return!t(...e)}}function st(t){if(t.error)throw t.error;return t.value}function rt(t,e,n){try{return{value:t.apply(e,n)}}catch(t){return{error:t}}}function ot(t,...e){let n=[];for(;e.length;){let i=e.pop();if("options"===i)n.unshift(V(t));else if("callback"===i)n.unshift(K(t));else if("val"===i)n.unshift(t.pop());else if(b(i)){let e=i(H(t))?t.pop():void 0;n.unshift(e)}}return n}function ut(...t){return t.flat().filter(b)}function at(t,e,{keepDelimiters:n=!1}={}){let i=0,s=/§\d+/g,r={},o=[],u=(e,s)=>{let u=!1;t=t.replaceAll(e,(function(t){u=!0;let e,s,o="§"+i++;if(n){let n=t[0],i=t.slice(-1);s=t.slice(1,-1),e=n+o+i}else s=t,e=o;return r[o]=s,e})),u&&o.unshift({allowRestoreTransform:s})};u(s,!1);for(let t of e)u(t,!0);return{masked:t,restore:(t,e=X)=>{for(let{allowRestoreTransform:n}of o){let i=n?e:X;t=t.replace(s,(t=>i(dt(r[t],v))))}return t}}}const ht=/'(?:\\\\|\\'|[^'])*'|"(?:\\\\|\\"|[^"])*"/g,ct=/{(?:[^{}]|{[^{}]*})*}|\((?:[^\(\)]|\([^\(\)]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\]/g;function lt(t){return at(t,[ht,ct],{keepDelimiters:!0})}function pt(t){return'"'===t[0]?t:(dt("'"===t[0]),'"'+(t=t.slice(1,-1)).replace(/(\\\\)|(\\')|(\\")|(")/g,(function(t,e,n,i){return e||n&&"'"||'\\"'}))+'"')}function ft(t){let{masked:e,restore:n}=at(t,[ht]);return e=e.replace(/([a-z_$][\w$]*:)/gi,(t=>'"'+t.slice(0,-1)+'":')),e=e.replace(/,\s*([}\]])/g,"$1"),e=n(e,pt),JSON.parse(e)}function dt(t,e=p){if(e(t))return t;throw"assert failed"}return{parseURL:o,normalizeURL:e,matchableURL:n,matchableURLPatternAtom:function(t){return t.endsWith("/")?[t,t.slice(0,-1)]:t.includes("/?")?[t,t.replace("/?","?")]:t.endsWith("/*")?[t,t.slice(0,-2),t.slice(0,-2)+"?*"]:t},matchURLs:function(t,e,i){return n(t,i)===n(e,i)},normalizeMethod:function(t){return t?t.toUpperCase():"GET"},methodAllowsPayload:function(t){return"GET"!==t&&"HEAD"!==t},copy:R,merge:A,mergeDefined:function(...t){const e={};for(let n of t)if(n)for(let t in n){const i=n[t];d(i)&&(e[t]=i)}return e},options:P,parseArgIntoOptions:function(t,e){let[n,i]=ot(t,"val","options");return d(n)&&(i[e]=n),i},each:c,map:a,flatMap:function(t,e){return W(a(t,e))},mapObject:h,spanObject:function(t,e){return h(t,(t=>[t,e]))},findResult:D,some:function(t,e){return!!D(t,e)},every:$,find:function(t,e){let n;e=u(e);for(let i of t)if(e(i)){n=i;break}return n},filter:M,reject:function(t,e){return M(t,e=it(u(e)))},intersect:function(t,e){return M(t,(t=>N(e,t)))},compact:function(t){return M(t,g)},compactObject:function(t){return B(t,g)},uniq:function(t){return t.length<2?t:Array.from(new Set(t))},uniqBy:function(t,e){if(t.length<2)return t;e=u(e);const n=new Set;return M(t,(function(t,i){const s=e(t,i);return!n.has(s)&&(n.add(s),!0)}))},last:H,isNull:l,isDefined:d,isUndefined:f,isGiven:g,isMissing:m,isPresent:w,isBlank:y,presence:function(t,e=w){if(e(t))return t},isObject:S,isFunction:b,isString:v,isBoolean:function(t){return"boolean"==typeof t||t instanceof Boolean},isNumber:_,isElement:E,isTextNode:function(t){return t instanceof Text},isJQuery:O,isElementLike:function(t){return!(!t||!(t.addEventListener||O(t)&&t[0]?.addEventListener))},isPromise:function(t){return S(t)&&b(t.then)},isOptions:k,isArray:T,isFormData:function(t){return t instanceof FormData},isList:F,isRegExp:x,isAdjacentPosition:function(t){return/^(before|after)/.test(t)},timer:function(t,e){return setTimeout(e,t)},contains:N,containsAll:function(t,e){return $(e,(e=>N(t,e)))},objectContains:function(t,e){return G(e,j(t,Object.keys(e)))},toArray:function(t){return T(t)?t:L(t)},pick:j,pickBy:B,omit:function(t,e){return B(t,((t,n)=>!N(e,n)))},unresolvablePromise:function(){return new Promise(t)},remove:function(t,e){const n=t.indexOf(e);if(n>=0)return t.splice(n,1),e},memoize:function(t){let e,n;return function(...i){return n?e:(n=!0,e=t.apply(this,i))}},pluckKey:z,renameKey:function(t,e,n){e in t&&(t[n]=z(t,e))},extractOptions:V,extractCallback:K,noop:t,asyncNoop:function(){return Promise.resolve()},identity:X,escapeHTML:function(t){return t.replace(/[&<>"']/g,(t=>I[t]))},escapeRegExp:function(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")},sequence:function(...t){let e=ut(...t);return(...t)=>a(e,(e=>e(...t)))},evalOption:q,evalAutoOption:function(t,e,...n){return"auto"===(t=q(t,...n))&&(t=q(e,...n)),t},flatten:W,newDeferred:function(){let t,e;const n=new Promise((function(n,i){t=n,e=i}));return n.resolve=t,n.reject=e,n},always:function(t,e=X){return t.then(e,e)},isBasicObjectProperty:function(t){return Object.prototype.hasOwnProperty(t)},isCrossOrigin:r,task:function(t){setTimeout(t)},fastTask:function(t){const e=new MessageChannel;e.port1.onmessage=()=>t(),e.port2.postMessage(0)},isEqual:G,getSimpleTokens:function(t,{json:e=!1,separator:n=/[,\s]/}={}){return v(t)?e&&/^\[.*]$/.test(t)?ft(t):Q(t,n):C(t)},getComplexTokens:function(t){if(v(t)){let{maskedTokens:e,restore:n}=Y(t);return e.map((t=>n(t)))}return C(t)},wrapList:C,wrapValue:function(t,...e){return e[0]instanceof t?e[0]:new t(...e)},uid:function(){return Z++},upperCaseFirst:function(t){return t[0].toUpperCase()+t.slice(1)},lowerCaseFirst:function(t){return t[0].toLowerCase()+t.slice(1)},delegate:tt,delegatePromise:function(t,e){return tt(t,["then","catch","finally"],e)},reverse:function(t){return R(t).reverse()},camelToKebabCase:function(t){return t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))},sprintf:function(t,...e){return t.replace(nt,(t=>et(e.shift(),t)))},withRenamedKeys:function(t,e){const n={};for(let i in t){let s=e(i);g(s)&&(n[s]=t[i])}return n},memoizeMethod:function(t,e){for(let n in e){let e=Object.getOwnPropertyDescriptor(t,n).value,i=function(...t){let i=this[`__${n}MemoizeCache`]||={},s=JSON.stringify(t);return i[s]||=rt(e,this,t),st(i[s])};t[n]=i}},safeStringifyJSON:function(t){return JSON.stringify(t).replace(/[^\x00-\x7F]/g,(t=>"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")))},variant:function(t,e={}){let n=Object.create(t);return Object.assign(n,e),n},cleaner:function(t="lifo"){let e=[],n=function(t,n){t=ut(...t).map(n),e.push(...ut(...t))},i=function(...t){n(t,X)};return i.guard=function(...t){n(t,up.error.guardFn)},i.clean=function(...n){"lifo"===t&&e.reverse(),e.forEach((t=>t(...n))),e=[]},i},scanFunctions:ut,args:ot,parseRelaxedJSON:ft,parseScalarJSONPairs:function(t){let{maskedTokens:e,restore:n}=Y(t);return e.map((t=>{let[e,i,s]=t.match(/([^{]+)({[^}]*})?/);return[n(i.trim()),s&&ft(n(s))]}))},maskPattern:at,expressionOutline:lt,parseString:function(t){return JSON.parse(pt(t))},assert:dt}}()},4118:(t,e,n)=>{"use strict";n.r(e)},4138:()=>{up.Offline=class Offline extends up.Error{}},4244:()=>{up.CannotMatch=class CannotMatch extends up.Error{}},4372:()=>{!function(){const t=up.element;for(let e of["method","confirm"]){const n=`up-${e}`,i=`data-${e}`;up.macro(`a[${i}]`,(function(e){(window.Rails||window.jQuery?.rails)&&up.link.isFollowable(e)&&(t.setMissingAttr(e,n,e.getAttribute(i)),e.removeAttribute(i))}))}}()},4526:()=>{var t;up.Layer.Popup=((t=class Popup extends up.Layer.OverlayWithTether{}).mode="popup",t)},4572:()=>{var t;const e=up.util;up.RenderJob=(t=class RenderJob{constructor(t){this.renderOptions=t}execute(){return this.Ln=this.An(),this}async An(){try{this.Pn(),this.renderOptions=up.RenderOptions.preprocess(this.renderOptions),up.browser.assertConfirmed(this.renderOptions),up.RenderOptions.assertContentGiven(this.renderOptions);let t=await this.Dn().execute();return this.$n(t),t}catch(t){throw this.$n(t)||this.Mn(t),t}}$n(t){if(t instanceof up.RenderResult){let{onRendered:n,onFinished:i}=t.renderOptions;t.none||up.error.guard((()=>n?.(t)));let s=function(t){up.error.guard((()=>i?.(t)))};return this.finished.then(s,e.noop),!0}}Mn(t){let e=t instanceof up.Aborted?"Rendering was aborted":"Error while rendering";up.puts("up.render()",`${e}: ${t.name}: ${t.message}`),up.error.guard((()=>this.renderOptions.onError?.(t)))}get finished(){return this.Hn()}async Hn(){try{let t=await this.Ln;return await t.finished}catch(t){throw t instanceof up.RenderResult?await t.finished:t}}Dn(){let t=e.memoize((t=>this.Nn(t))),n={...this.renderOptions,handleAbort:t};return n.url?new up.Change.FromURL(n):n.response?new up.Change.FromResponse(n):new up.Change.FromContent(n)}Pn(){let t=e.pluckKey(this.renderOptions,"guardEvent");if(t&&(t.renderOptions=this.renderOptions,up.emit(t,{target:this.renderOptions.origin}).defaultPrevented))throw new up.Aborted(`Rendering was prevented by ${t.type} listener`)}Nn({bindFragments:t,bindLayer:n,origin:i,layer:s,request:r}){let{abort:o}=this.renderOptions;if(!o)return;let u={except:r,logOnce:["up.render()","Change with { abort } option will abort other requests"],newLayer:"new"===s,origin:i,jid:this.renderOptions.jid};"target"===o?up.fragment.abort(t,{...u}):"layer"===o?up.fragment.abort({...u,layer:n}):"all"===o||!0===o?up.fragment.abort({...u,layer:"any"}):e.isFunction(o)?o(u):up.fragment.abort(o,{...u,layer:n})}},e.delegatePromise(t.prototype,(function(){return this.Ln})),e.memoizeMethod(t.prototype,{Hn:!0,Dn:!0}),t)},4718:()=>{const t=up.util,e=up.element;up.Params=class Params{constructor(t){this.clear(),this.addAll(t)}clear(){this.entries=[]}[t.copy.key](){return new up.Params(this)}toObject(){const e={};for(let n of this.entries){const{name:i,value:s}=n;t.isBasicObjectProperty(i)||(this.jn(i)?(e[i]||=[],e[i].push(s)):e[i]=s)}return e}toArray(){return this.entries}toFormData(){const t=new FormData;for(let e of this.entries)t.append(e.name,e.value);return t.entries||(t.originalArray=this.entries),t}toQuery(){return this.withoutBinaryEntries().entries.map(this.Bn).join("&")}Bn(e){const{value:n}=e;let i=encodeURIComponent(e.name);return t.isGiven(n)&&(i+="=",i+=encodeURIComponent(n)),i}qn({value:t}){return t instanceof Blob}hasBinaryEntries(){return t.some(this.entries,this.qn)}withoutBinaryEntries(){let e=t.reject(this.entries,this.qn);return new this.constructor(e)}toURL(e){let n=[e,this.toQuery()];n=t.filter(n,t.isPresent);const i=t.contains(e,"?")?"&":"?";return n.join(i)}add(t,e){this.entries.push({name:t,value:e})}addAll(e){t.isMissing(e)||(e instanceof this.constructor?this.entries.push(...e.entries):t.isArray(e)?this.entries.push(...e):t.isString(e)?this.In(e):t.isFormData(e)?this.zn(e):t.isObject(e)?this.Un(e):up.fail("Unsupported params type: %o",e))}keys(){return t.map(this.entries,"name")}values(){return t.map(this.entries,"value")}Un(e){for(let n in e){const i=e[n],s=t.isArray(i)?i:[i];for(let t of s)this.add(n,t)}}In(e){for(let n of e.split("&"))if(n){let[e,i]=n.split("=");e=decodeURIComponent(e),i=t.isGiven(i)?decodeURIComponent(i):null,this.add(e,i)}}zn(t){for(let e of t.entries())this.add(...e)}set(t,e){this.delete(t),this.add(t,e)}delete(e){this.entries=t.reject(this.entries,this.Kn(e))}Kn(t){return e=>e.name===t}get(t){return this.jn(t)?this.getAll(t):this.getFirst(t)}getFirst(e){const n=t.find(this.entries,this.Kn(e));return n?.value}getAll(e){const n=t.filter(this.entries,this.Kn(e));return t.map(n,"value")}jn(e){return t.evalOption(up.form.config.arrayParam,e)}[t.isBlank.key](){return 0===this.entries.length}static fromForm(t){return this.fromContainer(t)}static fromContainer(t){let e=up.form.fields(t);return this.fromFields(e)}static fromFields(e){const n=new this;for(let i of t.wrapList(e))n.addField(i);return n}addField(t){let n=(t=e.get(t)).name;if(n&&!t.disabled){const{tagName:e}=t,{type:i}=t;if("SELECT"===e)for(let e of t.querySelectorAll("option"))e.selected&&this.add(n,e.value);else if("checkbox"===i||"radio"===i)t.checked&&this.add(n,t.value);else{if("file"!==i)return this.add(n,t.value);for(let e of t.files)this.add(n,e)}}}[t.isEqual.key](e){return this.constructor===e.constructor&&t.isEqual(this.entries,e.entries)}static fromURL(e){const n=new this;let i=t.parseURL(e).search;return i&&(i=i.replace(/^\?/,""),n.addAll(i)),n}static stripURL(e){return t.normalizeURL(e,{search:!1})}static merge(e,...n){let i=t.copy(e);for(let e of n){let n=t.wrapValue(this,e);for(let t of n.keys())i.delete(t);i.addAll(n)}return i}}},4742:()=>{const t=up.util;up.SelectorTracker=class SelectorTracker{constructor(e,n,i){this.ee=e,this.Vn=i,this.ot=n.layer||"any",this.Xn=n.filter||t.identity,this.Wn=new Map,this.Gn=!1}start(){return this.Jn(),t.sequence(this.Qn(),(()=>this.Yn()))}Qn(){return up.on("up:fragment:inserted up:fragment:destroyed",(()=>this.Jn()))}Jn(){this.Gn||(this.Gn=!0,up.fragment.afterMutate((()=>this.Zn())))}Zn(){this.Gn=!1;let e=new Map(this.Wn);this.Wn.clear();for(let n of this.ti){let i=e.get(n);e.delete(n);let s=i||this.Vn(n)||t.noop;this.Wn.set(n,s)}this.ei(e)}get ti(){let t=up.fragment.all(this.ee,{layer:this.ot});return this.Xn(t)}Yn(){this.ei(this.Wn)}ei(t){for(let[e,n]of t)n(e)}}},4823:()=>{const t=up.util;up.Request.Queue=class Queue{constructor(){this.reset()}reset(){this.ni=[],this.ii=[],this.si=!1}get allRequests(){return this.ii.concat(this.ni)}asap(e){e.runQueuedCallbacks(),t.always(e,(()=>this.Wt(e))),this.ri(e),this.oi(e),queueMicrotask((()=>this.ui()))}promoteToForeground(t){t.background&&(t.background=!1,this.ri(t))}ri(e){if(!e.isTimed())return;let n=Math.max(e.effectiveLateTime-e.age);t.timer(n,(()=>this.ai()))}hi(){return t.evalOption(up.network.config.concurrency)}ci(){const t=this.hi();return-1===t||this.ii.length<t}isBusy(){return this.ii.length>0||this.ni.length>0}oi(t){this.ni.push(t)}li(){let e=t.find(this.ni,(t=>!t.background));return e||=this.ni[0],t.remove(this.ni,e)}pi(t){t.load()&&this.ii.push(t)}Wt(e){t.remove(this.ii,e)||t.remove(this.ni,e),queueMicrotask((()=>this.ui())),t.task((()=>this.fi()))}ui(){let t;if(this.ci()&&(t=this.li()))return this.pi(t)}abort(...e){let[n=!0,{except:i,reason:s,logOnce:r}]=t.args(e,"val","options"),o=up.Request.tester(n,{except:i});for(let e of[this.ii,this.ni]){const n=t.filter(e,o);for(let i of n)r&&(up.puts(...r),r=null),i.abort({reason:s}),t.remove(e,i)}}ai(){!this.si&&this.di()&&(this.si=!0,up.emit("up:network:late",{log:"Server is slow to respond"}))}fi(){this.si&&!this.mi.length&&(this.si=!1,up.emit("up:network:recover",{log:"Slow requests were loaded"}))}get mi(){return this.allRequests.filter((t=>t.isTimed()))}di(){return t.some(this.mi,(t=>t.age>=t.effectiveLateTime-1))}}},5224:()=>{var t;const e=up.util;up.Change.UpdateLayer=(t=class UpdateLayer extends up.Change.Addition{constructor(t){super(t=up.RenderOptions.finalize(t)),this.layer=t.layer,this.target=t.target,this.gi=t.context,this.t=up.fragment.parseTargetSteps(this.target,this.options)}getPreflightProps(){this.yi();let t=this.wi();return{layer:this.layer,bindLayer:this.layer,mode:this.layer.mode,context:e.merge(this.layer.context,this.gi),origin:this.options.origin,target:this.bi(),fragments:t,bindFragments:t}}bi(){return this.yi(),up.fragment.targetForSteps(this.t)}wi(){return this.yi(),e.map(this.t,"oldElement")}execute(t,e){this.responseDoc=t,this._i(),e();let n=this.layer.on("up:layer:accepting up:layer:dimissing",this.ki.bind(this));try{return this.Si(),this.ki(),up.RenderResult.both(this.Ei,this.xi)}finally{n()}}Si(){this.t.length&&up.puts("up.render()",`Updating "${this.bi()}" in ${this.layer}`),this.Oi(),this.options.saveScroll&&up.viewport.saveScroll({layer:this.layer}),this.options.saveFocus&&up.viewport.saveFocus({layer:this.layer}),this.options.peel&&this.layer.peel({history:!this.Ti()}),!1!==this.options.abort&&up.fragment.abort(this.wi(),{reason:"Fragment is being replaced",jid:this.options.jid}),Object.assign(this.layer.context,this.gi),this.Ti()&&this.layer.updateHistory(this.options),this.handleLayerChangeRequests(),this.Ei=this.executeSteps({steps:this.t,responseDoc:this.responseDoc,noneOptions:this.options})}ki(){if(this.xi)return;let t=this.Fi().other;this.xi=this.executeSteps({steps:t,responseDoc:this.responseDoc})}yi(){this.Ci(),this.Ri()}_i(){this.Ci(),this.Li(),this.Ri(),this.Ai()}Li(){this.t.push(...this.Fi().current)}Ci(){this.t=this.t.filter((t=>{const n=new up.FragmentFinder(e.pick(t,["selector","origin","layer","match","preferOldElements"]));if(t.oldElement||=n.find(),t.oldElement)return!0;if(!t.maybe)throw new up.CannotMatch}))}Ai(){this.t=this.responseDoc.selectSteps(this.t)}Ri(){this.t=up.fragment.compressNestedSteps(this.t)}Fi(){return up.radio.hungrySteps(this.Pi())}Oi(){let t=up.FocusCapsule.preserve(this.layer);this.t.forEach(((e,n)=>{e.focusCapsule=t,n>0&&(e.scroll=!1,e.focus=!1)}))}Ti(){return e.evalAutoOption(this.options.history,this.Di.bind(this))}Di(){const t=e.map(this.t,"oldElement");return up.fragment.hasAutoHistory(t,this.layer)}Pi(){return{...this.options,layer:this.layer,history:this.Ti()}}},e.memoizeMethod(t.prototype,{yi:!0,Ci:!0,Ti:!0,Fi:!0}),t)},5229:()=>{const t=up.util;up.EventListener=class EventListener extends up.Record{keys(){return["element","eventType","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}constructor(t){super(t),this.$i=this.constructor.Mi(t),this.isDefault=up.framework.evaling,this.beforeBoot??=0===this.eventType.indexOf("up:framework:"),this.nativeCallback=this.nativeCallback.bind(this)}bind(){const t=this.element.upEventListeners||={};t[this.$i]&&up.fail("up.on(): The %o callback %o cannot be registered more than once",this.eventType,this.callback),t[this.$i]=this,this.element.addEventListener(...this.Hi())}Hi(){let e=t.compactObject(t.pick(this,["once","passive","capture"]));return[this.eventType,this.nativeCallback,e]}unbind(){let t=this.element.upEventListeners;t&&delete t[this.$i],this.element.removeEventListener(...this.Hi())}nativeCallback(e){if(up.framework.beforeBoot&&!this.beforeBoot)return;let n=e.target;if(this.selector){let e=t.evalOption(this.selector);n=n.closest(e)}if((!this.guard||this.guard(e))&&n){const t=[e,n],i=this.callback.length;if(1!==i&&2!==i){const e=up.script.data(n);t.push(e)}if("click"===this.eventType&&n.disabled)return;const s=this.callback.bind(n,...t);this.baseLayer?this.baseLayer.asCurrent(s):s()}}static fromElement(t){let e=t.element.upEventListeners;if(e)return e[this.Mi(t)]}static Mi(e){return e.callback.upUid||=t.uid(),[e.eventType,e.selector,e.callback.upUid].join("|")}static allNonDefault(e){let n=e.upEventListeners;if(n){const e=Object.values(n);return t.reject(e,"isDefault")}return[]}}},5249:()=>{var t;const e=up.util;up.Change.FromContent=(t=class FromContent extends up.Change{constructor(t){super(t),this.me=t.origin,this.Ni=t.preflight,this.ji=up.layer.getAll(t)}Bi(){let t=[];return this.qi(),this.Ii(),this.zi(t,this.ji,this.options.target),this.zi(t,this.ji,this.options.fallback),t}Ui(t){return"new"===t||t.isAlive()}qi(){this.ji=e.filter(this.ji,this.Ui)}zi(t,e,n){for(let i of e)for(let e of this.Ki(n,i)){const n={...this.options,target:e,layer:i,defaultPlacement:this.Vi()},s="new"===i?new up.Change.OpenLayer(n):new up.Change.UpdateLayer(n);t.push(s)}}Ki(t,e){return up.fragment.expandTargets(t,{layer:e,mode:this.options.mode,origin:this.me})}execute(){return this.options.preload?Promise.resolve():this.Xi(this.Wi.bind(this))||this.Gi()}Wi(t){return t.execute(this.Ji(),this.Qi.bind(this,t))}Yi(t){return!(t instanceof up.CannotMatch)}Qi(t){let e=this.Bi()[0];t!==e&&up.puts("up.render()",'Could not match primary target "%s". Updating a fallback target "%s".',e.target,t.target);let{assets:n}=this.Ji();n&&up.script.assertAssetsOK(n,t.options),this.options.handleAbort(this.getPreflightProps())}Ji(){if(this.Ni)return;const t=e.pick(this.options,["target","content","fragment","document","html","cspInfo","origin","data"]);return up.migrate.handleResponseDocOptions?.(t),"content"===this.Vi()&&(t.target=this.Zi(t.target)),new up.ResponseDoc(t)}Ii(){if(this.Ni)return;let t=this.Ji();this.options.fragment&&(this.options.target||=t.rootSelector()),this.options.title=this.improveHistoryValue(this.options.title,t.title),this.options.metaTags=this.improveHistoryValue(this.options.metaTags,t.metaTags),this.options.lang=this.improveHistoryValue(this.options.lang,t.lang)}Vi(){if(!this.options.document&&!this.options.fragment)return"content"}Zi(t){let e=this.ji[0]||up.layer.root;return this.Ki(t||":main",e)[0]}getPreflightProps(t={}){return this.Xi((t=>t.getPreflightProps()))||t.optional||this.ts()}ts(){this.es("Could not find target in current page")}Gi(){this.es("Could not find common target in current page and response")}es(t){if(this.Bi().length){const n=e.uniq(e.map(this.Bi(),"target")),i=up.layer.optionToString(this.options.layer);throw new up.CannotMatch([t+" (tried selectors %o in %s)",n,i])}if(0!==this.ji.length)throw this.options.didForceFailOptions?new up.CannotMatch("No target selector given for failed responses (https://unpoly.com/failed-responses)"):new up.CannotMatch("No target selector given");this.ns()}ns(){throw new up.CannotMatch("Could not find a layer to render in. You may have passed an unmatchable layer reference, or a detached element.")}Xi(t){for(let e of this.Bi())try{return t(e)}catch(t){if(this.Yi(t))throw t}}},e.memoizeMethod(t.prototype,{Bi:!0,Ji:!0,getPreflightProps:!0}),t)},5313:()=>{up.framework=function(){let t="evaling";function e({mode:e="manual"}={}){if("configuring"!==t)return void console.error("Unpoly has already booted");let i=n();i?console.error("Unpoly cannot boot: %s",i):(t="booting",up.emit("up:framework:boot",{mode:e,log:!1}),t="booted",up.emit("up:framework:booted",{mode:e,log:!1}))}function n(){for(let t of["Promise","DOMParser","FormData","reportError"])if(!window[t])return`Browser doesn't support the ${t} API`;if("BackCompat"===document.compatMode)return"Browser is in quirks mode (missing DOCTYPE?)";for(let t of[":is(*)",":has(*)"])if(!CSS.supports(`selector(${t})`))return`Browser doesn't support the ${t} selector`}return{onEvaled:function(){up.emit("up:framework:evaled",{log:!1}),document.currentScript?.async||document.querySelector("[up-boot=manual]:is(html, script)")||"complete"===document.readyState?console.debug("Call up.boot() after you have configured Unpoly"):document.addEventListener("DOMContentLoaded",(()=>e({mode:"auto"}))),t="configuring"},boot:e,startExtension:function(){if("configuring"!==t)throw new Error("Unpoly extensions must be loaded before booting");t="evaling"},stopExtension:function(){t="configuring"},reset:function(){up.emit("up:framework:reset",{log:!1})},get evaling(){return"evaling"===t},get booted(){return"booted"===t},get beforeBoot(){return"booting"!==t&&"booted"!==t},isSupported:function(){return!n()}}}(),up.boot=up.framework.boot},5637:()=>{const t=up.element,e=up.util;up.OverlayFocus=class OverlayFocus{constructor(t){this.ot=t,this.ss=this.ot.getFocusElement(),this.rs=this.ot.trapFocus}moveToFront(){this.us||(this.us=!0,this.hs=t.setAttrsTemp(this.ss,{tabindex:"0",role:"dialog","aria-modal":this.rs.toString()}),this.rs&&(this.cs=up.on("focusin",(t=>this.ls(t))),this.ps=t.affix(this.ss,"beforebegin","up-focus-trap[tabindex=0]"),this.fs=t.affix(this.ss,"afterend","up-focus-trap[tabindex=0]")))}moveToBack(){this.teardown()}teardown(){this.us&&(this.us=!1,this.hs(),this.rs&&(this.cs(),this.ps.remove(),this.fs.remove()))}ls(t){const{target:e}=t;this.ds||up.layer.isWithinForeignOverlay(e)||(this.ds=!0,e===this.ps?this.gs():e!==this.fs&&this.ot.contains(e)||this.ys(),this.ds=!1)}ys(t){up.focus(this.ss,t)}gs(){this.ws(this.ot.getBoxElement())||this.ys()}ws(t){for(let n of e.reverse(t.children))if(up.viewport.tryFocus(n)||this.ws(n))return!0}}},5691:()=>{const t=up.util,e=up.element,n=[{attr:"up-hide-for",toggle(t,n){e.toggle(t,!n)}},{attr:"up-show-for",toggle(t,n){e.toggle(t,n)}},{attr:"up-disable-for",toggle(t,e){up.form.setDisabled(t,e)}},{attr:"up-enable-for",toggle(t,e){up.form.setDisabled(t,!e)}}];up.Switcher=class Switcher{constructor(t){this.P=t,this.bs=t.getAttribute("up-switch")||up.fail("No switch target given for %o",t),this.vs=t.getAttribute("up-switch-region")}start(){return this._s(),t.sequence(this.ks(),this.Ss())}ks(){let t=()=>this.Es();return up.migrate.watchForSwitch?.(this.P,t)||up.watch(this.P,{logPrefix:"[up-switch]"},t)}Ss(){return up.fragment.trackSelector(this.bs,{filter:e=>{let n=this.xs;return t.filter(e,(t=>n?.contains(t)))}},(t=>this.Os(t)))}Es(){this._s()}_s(){const t=this.Ts();for(let e of this.Fs())this.Os(e,t)}Os(e,n=this.Ts()){let i=e.upSwitchValues;t.isEqual(i,n)||(e.upSwitchValues=n,this.Cs(e,n))}Cs(e,i){for(let{attr:s,toggle:r}of n){let n=e.getAttribute(s);if(n){let s=this.Rs(n);r(e,t.intersect(i,s).length>0)}}let s=["Switching %o",e];up.emit(e,"up:form:switch",{field:this.P,fieldTokens:i,log:s})}Fs(){let t=this.xs;return t?up.fragment.subtree(t,this.bs):[]}get xs(){return this.vs?up.fragment.get(this.vs,{origin:this.P}):up.form.getRegion(this.P)}Rs(e){return t.getSimpleTokens(e,{json:!0})}Ts(){let e=up.Params.fromContainer(this.P).values(),n=[...e],i=t.some(e,t.isPresent);n.push(i?":present":":blank");let s=up.form.fields(this.P);if(s[0]?.matches("[type=radio], [type=checkbox]")){let e=t.some(s,"checked");n.push(e?":checked":":unchecked")}return n}}},5845:()=>{let t=up.util;up.Change.OpenLayer=class OpenLayer extends up.Change.Addition{constructor(t){super(t),this.target=t.target,this.me=t.origin,this.Ls=t.baseLayer}getPreflightProps(){return{mode:this.options.mode,context:this.As().context,origin:this.options.origin,target:this.target,bindLayer:this.Ls,layer:"new",bindFragments:t.compact([up.fragment.get(":main",{layer:this.Ls})]),fragments:[]}}execute(t,e){this.responseDoc=t,this._i(),e(),this.Ps();let n=this.layer.on("up:layer:accepting up:layer:dimissing",this.ki.bind(this));try{return this.Ds(),this.ki(),up.RenderResult.both(this.$s,this.xi)}finally{n()}}_i(){if(":none"===this.target?this.Ms=document.createElement("up-none"):this.Ms=this.responseDoc.select(this.target),!this.Ms||!this.Ls.isAlive())throw new up.CannotMatch}Ps(){up.puts("up.render()",`Opening element "${this.target}" in new overlay`),this.Hs(),this.layer=this.As(),this.Ls.peel({history:!this.layer.history}),this.Ls.saveHistory(),up.layer.stack.push(this.layer),this.layer.createElements(),this.layer.setupHandlers()}Ds(){this.Ns(),this.handleLayerChangeRequests(),this.responseDoc.commitElement(this.Ms),this.layer.setContent(this.Ms),this.responseDoc.finalizeElement(this.Ms),this.setReloadAttrs({newElement:this.Ms,source:this.options.source}),this.js=up.hello(this.layer.element,{...this.options,layer:this.layer,dataRoot:this.Ms}),this.$s=new up.RenderResult({layer:this.layer,fragments:[this.Ms],target:this.target,renderOptions:this.options}),this.m(),this.$s.finished=this.l(),this.layer.state="opened",this.Bs(),this.ensureLayerAlive()}ki(){if(this.xi)return;let t=this.Fi().other;this.xi=this.executeSteps({steps:t,responseDoc:this.responseDoc})}async l(){return await this.layer.startOpenAnimation(),this.ensureLayerAlive(),this.p(),await this.js,this.$s}As(){return up.layer.build(this.options,(t=>this.options=up.RenderOptions.finalize(t)))}Ns(){"auto"===this.layer.history&&(this.layer.history=up.fragment.hasAutoHistory([this.Ms],this.layer)),this.layer.history&&=this.Ls.history,this.layer.updateHistory(this.options)}p(){this.Ls.overlayFocus?.moveToBack(),this.layer.overlayFocus.moveToFront(),new up.FragmentFocus({fragment:this.Ms,layer:this.layer,autoMeans:["autofocus","layer"],inputDevice:this.options.inputDevice}).process(this.options.focus)}m(){const t={...this.options,fragment:this.Ms,layer:this.layer,autoMeans:["hash","layer"]};new up.FragmentScrolling(t).process(this.options.scroll)}Hs(){up.event.assertEmitted("up:layer:open",{origin:this.me,baseLayer:this.Ls,layerOptions:this.options,log:"Opening new overlay"})}Bs(){this.layer.emit("up:layer:opened",{origin:this.me,callback:this.layer.callback("onOpened"),log:`Opened new ${this.layer}`})}Fi(){return up.radio.hungrySteps(this.Pi())}Pi(){return{...this.options,layer:this.layer,history:this.layer.history}}}},5887:()=>{const t=up.util,e=/^([^ >+(]+) (.+)$/;up.FragmentFinder=class FragmentFinder{constructor(t){this.A=t,this.me=t.origin,this.ee=t.selector,this.qs=t.document||window.document,this.Is=t.match??up.fragment.config.match,this.zs=t.preferOldElements}find(){return this.Us()||this.Ks()||this.Vs()}Us(){if(this.zs)return this.zs.find((t=>this.qs.contains(t)&&up.fragment.matches(t,this.ee)))}Ks(){if("region"===this.Is&&!up.fragment.containsMainPseudo(this.ee)&&this.me?.isConnected)return this.Xs()||this.Ws()}Xs(){return up.fragment.closest(this.me,this.ee,this.A)}Ws(){let n=up.fragment.splitTarget(this.ee);return t.findResult(n,(t=>{let n=t.match(e);if(n){let t=up.fragment.closest(this.me,n[1],this.A);if(t)return up.fragment.getFirstDescendant(t,n[2])}}))}Vs(){return up.fragment.getFirstDescendant(this.qs,this.ee,this.A)}}},6088:()=>{var t;const e=up.util,n=up.element;up.LayerLookup=(t=class LayerLookup{constructor(t,n){this.Gs=t,!1!==n.normalizeLayerOptions&&up.layer.normalizeOptions(n),this.A=n,this.Js=e.getSimpleTokens(n.layer)}all(){let t=e.flatMap(this.Js,(t=>this.Qs(t)));return t=e.compact(t),t=e.uniq(t),t}static all(t,...n){const i=e.parseArgIntoOptions(n,"layer"),{layer:s}=i;return s instanceof up.Layer?[s]:new this(t,i).all()}Ys(t){return t=n.get(t),e.find(this.Gs.reversed(),(e=>e.contains(t)))}Zs(t){return this.Gs.at(t)}Qs(t){if(t instanceof up.Layer)return t;if(e.isNumber(t))return this.Zs(t);if(/^\d+$/.test(t))return this.Zs(Number(t));if(e.isElementLike(t))return this.Ys(t);switch(t){case"any":return[this.tr(),...this.Gs.reversed()];case"current":return this.tr();case"closest":return this.Gs.selfAndAncestorsOf(this.tr());case"parent":return this.tr().parent;case"ancestor":case"ancestors":return this.tr().ancestors;case"child":return this.tr().child;case"descendant":case"descendants":return this.tr().descendants;case"subtree":return this.tr().subtree;case"new":return"new";case"root":return this.Gs.root;case"overlay":case"overlays":return e.reverse(this.Gs.overlays);case"front":return this.Gs.front;case"origin":return this.er();default:return up.fail("Unknown { layer } option: %o",t)}}er(){let{origin:t,originLayer:e}=this.A;return e||(t?this.Ys(t):void 0)}tr(){let{baseLayer:t}=this.A;if(e.isString(t)){const e={...this.A,baseLayer:this.Gs.current,normalizeLayerOptions:!1,layer:t};return this.constructor.all(this.Gs,e)[0]}return t||this.er()||this.Gs.current}},e.memoizeMethod(t.prototype,{tr:!0,er:!0}),t)},6101:()=>{up.history=function(){const t=up.util,e=up.element,n=new up.Config((()=>({enabled:!0,updateMetaTags:!0,restoreTargets:["body"],metaTagSelectors:["meta","link[rel=alternate]","link[rel=canonical]","link[rel=icon]","[up-meta]",'script[type="application/ld+json"]'],noMetaTagSelectors:["meta[http-equiv]","[up-meta=false]","meta[name=csp-nonce]"]})));let i,s,r,o=new up.FIFOCache({capacity:100,normalizeKey:l});function u(){return t.normalizeURL(location.href)}function a(t,e){try{r=t,e()}finally{r=void 0}}function h(t){let{reason:e,alreadyHandled:n,pauseTracking:o}=r||t;if(o)return;let a=u();if(y()?g(a):m(a)&&w(),s!==a){i=s,s=a,"detect"===e&&(e=l(a)===l(i)?"hash":"pop");let t=!n&&m(a),r=up.event.build("up:location:changed",{reason:e,location:a,previousLocation:i,alreadyHandled:n,willHandle:t,log:`New location is ${a}`});up.migrate.prepareLocationChangedEvent?.(r),e&&(up.emit(r),b(r))}}function c(t){return t?.split(/(?=#)/)||[]}function l(t){return c(t)[0]}function p(e,n){return t.matchURLs(e,location.href,{hash:!0,...n})}function f(t,e){p(t)||d("pushState",t,e)}function d(t,e,i){g(e),n.enabled&&a(i,(function(){history[t](null,{up:!0},e)}))}function m(t){return!!o.get(t)}function g(e=u()){e=t.normalizeURL(e),o.set(e,!0)}function y(){return history.state?.up}function w(){let{state:e}=history;y()||(t.isBlank(e)||t.isObject(e))&&a({pauseTracking:!0},(function(){history.replaceState({...e,up:!0},"")}))}function b(t){t.alreadyHandled||(t.willHandle?"pop"===t.reason?(up.viewport.saveFocus({location:t.previousLocation}),up.viewport.saveScroll({location:t.previousLocation}),function(t){up.error.muteUncriticalRejection(up.render({guardEvent:up.event.build("up:location:restore",{location:t,log:`Restoring location ${t}`}),url:t,target:n.restoreTargets,fail:!1,history:!0,location:t,peel:!0,layer:"root",cache:"auto",revalidate:"auto",saveScroll:!1,scroll:["restore","auto"],saveFocus:!1,focus:["restore","auto"]}))}(t.location)):"hash"===t.reason&&up.viewport.revealHash(location.hash,{strong:!0}):up.puts("up.history","Ignoring history entry owned by foreign script"))}function v(t=document.head){return t.querySelectorAll(n.selector("metaTagSelectors"))}return up.on("up:framework:boot",(function({mode:t}){h({reason:null,alreadyHandled:!0}),function(){const t=history.pushState;history.pushState=function(...e){t.apply(this,e),h({reason:"push",alreadyHandled:!0})};const e=history.replaceState;history.replaceState=function(...t){e.apply(this,t),h({reason:"replace",alreadyHandled:!0})}}(),"GET"===up.protocol.initialRequestMethod()&&(w(),g()),"auto"===t&&up.viewport.revealHash(location.hash,{strong:!0})})),up.on(window,"hashchange, popstate",(()=>{h({reason:"detect",alreadyHandled:!1})})),up.on("up:click",'a[href*="#"]',(function(e,n){if(e.defaultPrevented)return;if(up.event.isModified(e))return;let[i,s]=c(up.layer.current.location),[r,o]=c(t.normalizeURL(n)),u=n.getAttribute("href");if(i!==r&&!u.startsWith("#"))return;let a=n.getAttribute("up-scroll-behavior")??"auto",h=up.layer.get(n),l=up.viewport.revealHashFn(o,{layer:h,behavior:a});l&&(up.event.halt(e),up.log.putsEvent(e),o!==s&&h.showsLiveHistory()&&f(i+o,{reason:"hash",alreadyHandled:!0}),l())})),up.macro("[up-back]",(function(t){i&&(e.setMissingAttrs(t,{"up-href":i,"up-scroll":"restore"}),t.removeAttribute("up-back"),up.link.makeFollowable(t))})),up.on("up:framework:reset",(function(){i=void 0,s=void 0,r=void 0,o.clear(),h({reason:null,alreadyHandled:!0}),g()})),{config:n,push:f,replace:function(t,e){d("replaceState",t,e)},get location(){return u()},get previousLocation(){return i},isLocation:p,findMetaTags:v,updateMetaTags:function(t){let e=v();for(let t of e)t.remove();for(let e of t)document.head.append(e)},getLang:function(t=document){let{documentElement:e}=t;if(e.matches("html"))return t.documentElement.lang},updateLang:function(t){e.setAttrPresence(e.root,"lang",t,!!t)}}}()},6140:()=>{const t=up.util,e=up.element;up.Tether=class Tether{constructor(t){up.migrate.handleTetherOptions?.(t),this.nr=t.anchor,this.ir=t.align,this.sr=t.position,this.rr="top"===this.sr||"bottom"===this.sr?"horizontal":"vertical",this.ur=up.viewport.get(this.nr),this.parent=this.ur===e.root?document.body:this.ur,this.ar=!this.ur.contains(this.nr.offsetParent)}start(t){this.ut=t,this.ut.style.position="absolute",this.hr(0,0),this.sync(),this.cr("on")}stop(){this.cr("off")}cr(t){let e=this.Jn.bind(this);up[t](window,"resize",e),this.ar&&up[t](this.ur,"scroll",e)}Jn(){return clearTimeout(this.syncTimer),this.syncTimer=t.task(this.sync.bind(this))}isDetached(){return!this.parent.isConnected||!this.nr.isConnected}sync(){const n=this.ut.getBoundingClientRect(),i=e.styleNumber(this.ut,"margin-top"),s=e.styleNumber(this.ut,"margin-right"),r=e.styleNumber(this.ut,"margin-bottom"),o=e.styleNumber(this.ut,"margin-left"),u=this.nr.getBoundingClientRect();let a,h;switch(this.rr){case"horizontal":switch(this.sr){case"top":h=u.top-r-n.height;break;case"bottom":h=u.top+u.height+i}switch(this.ir){case"left":a=u.left+o;break;case"center":a=u.left+.5*(u.width-n.width);break;case"right":a=u.left+u.width-n.width-s}break;case"vertical":switch(this.ir){case"top":h=u.top+i;break;case"center":h=u.top+.5*(u.height-n.height);break;case"bottom":h=u.top+u.height-n.height-r}switch(this.sr){case"left":a=u.left-s-n.width;break;case"right":a=u.left+u.width+o}}t.isDefined(a)||t.isDefined(h)?this.le(a,h):up.fail("Invalid tether constraints: %o",this.lr())}lr(){return{position:this.sr,align:this.ir}}le(t,e){const n=this.ut.getBoundingClientRect();this.hr(t-n.left+this.offsetLeft,e-n.top+this.offsetTop)}hr(t,n){this.offsetLeft=t,this.offsetTop=n,e.setStyle(this.ut,{left:t,top:n},"px")}}},6347:()=>{const t=up.util;up.Change=class Change{constructor(t){this.options=t}execute(){throw new up.NotImplemented}improveHistoryValue(e,n){return!1===e||t.isString(e)?e:n}deriveFailOptions(){return up.RenderOptions.deriveFailOptions(this.options)}ensureLayerAlive(t=this.layer){if(!t.isAlive())throw new up.Aborted("Layer is already "+t.state)}}},6351:()=>{var t;const e=up.util;up.Request=(t=class Request extends up.Record{keys(){return["method","url","hash","params","target","failTarget","headers","timeout","background","cache","expireCache","evictCache","layer","mode","context","failLayer","failMode","failContext","origin","originLayer","originMode","builtAt","wrapMethod","contentType","payload","onLoading","fail","abortable","lateDelay","previews"]}defaults(){let t=up.network.config;return{state:"new",abortable:!0,headers:{},timeout:t.timeout,builtAt:new Date,previews:[],wrapMethod:t.wrapMethod}}constructor(t){if(super(t),this.params=new up.Params(this.params),this.pr(),(this.target||this.layer||this.origin)&&!t.basic){const t={origin:this.origin};this.layer=up.layer.get(this.layer,t),this.context||=this.layer.context||{},this.mode||=this.layer.mode,this.failLayer=up.layer.get(this.failLayer,t),this.failContext||=this.failLayer?.context||{},this.failMode||=this.failLayer?.mode,this.originLayer||=up.layer.get(this.origin)||up.layer.current,this.originMode||=this.originLayer?.mode}this.bindLayer=t.bindLayer||this.layer,this.dr=t.fragments,this.mr=t.bindFragments,this.Re=e.newDeferred(),this.gr()}get effectiveLateTime(){return!this.background&&(this.lateDelay??e.evalOption(up.network.config.lateDelay,this))}isTimed(){return e.isNumber(this.effectiveLateTime)}get xhr(){return this.yr??=new XMLHttpRequest}get fragments(){return this.dr||=this.wr()}wr(){let t=up.fragment.parseTargetSteps(this.target),n={origin:this.origin,layer:this.layer},i=e.map(t,(t=>up.fragment.get(t.selector,n)));return e.compact(i)}get bindFragments(){return this.mr||this.fragments}get fragment(){return this.fragments?.[0]}pr(){this.method=e.normalizeMethod(this.method),this.br(),this.vr(),this.url=e.normalizeURL(this.url)}_r(){e.task((()=>{this.layer=void 0,this.failLayer=void 0,this.bindLayer=void 0,this.origin=void 0,this.originLayer=void 0,this.dr=void 0,this.mr=void 0}))}br(){let t=this.url?.match(/^([^#]*)(#.+)$/);if(t)return this.url=t[1],this.hash=t[2]}vr(){!this.url||this.allowsPayload()||e.isBlank(this.params)||(this.url=this.params.toURL(this.url),this.params.clear())}isSafe(){return up.network.isSafeMethod(this.method)}allowsPayload(){return e.methodAllowsPayload(this.method)}will302RedirectWithGET(){return this.isSafe()||"POST"===this.method}willCache(){return e.evalAutoOption(this.cache,up.network.config.autoCache,this)}runQueuedCallbacks(){e.always(this,(()=>this._r()))}load(){if("new"===this.state)return this.kr()?(this.state="loading",this.pr(),this.onLoading?.(),this.expired=!1,new up.Request.XHRRenderer(this).buildAndSend({onload:()=>this.Sr(),onerror:()=>this.Er(),ontimeout:()=>this.Or(),onabort:()=>this.Tr()}),!0):void this.abort({reason:"Prevented by event listener"})}runPreviews(t){this.ended||this.fromCache||(this.Fr=up.status.runPreviews(this,t))}kr(){return!this.emit("up:request:load",{log:["Loading %s",this.description]}).defaultPrevented}loadPage(){up.network.abort(),new up.Request.FormRenderer(this).buildAndSubmit()}Sr(){const t=this.Cr(),e="Loaded "+t.description;this.emit("up:request:loaded",{request:t.request,response:t,log:e}),this.respondWith(t)}Er(){this.Rr("Network error")}Or(){this.Rr("Timeout")}Tr(){this.Lr()}abort({reason:t}={}){this.Lr(t)&&this.yr&&this.yr.abort()}Lr(t){if(this.ended)return;let e="Aborted request to "+this.description+(t?": "+t:"");return this.state="aborted",this.Ar(new up.Aborted(e)),this.emit("up:request:aborted",{log:e}),!0}Rr(t){if(this.ended)return;let e="Cannot load request to "+this.description+(t?": "+t:"");this.state="offline",this.emit("up:request:offline",{log:e}),this.Ar(new up.Offline(e))}respondWith(t){this.response=t,this.ended||(this.state="loaded",t.ok?this.Pr(t):this.Ar(t))}Pr(t){this.Dr(),this.Re.resolve(t)}Ar(t){this.Dr(),this.Re.reject(t)}Dr(){this.Fr?.()}get ended(){return"new"!==this.state&&"loading"!==this.state&&"tracking"!==this.state}csrfHeader(){return up.protocol.csrfHeader()}csrfParam(){return up.protocol.csrfParam()}csrfToken(){if(!this.isSafe()&&!this.isCrossOrigin())return up.protocol.csrfToken()}isCrossOrigin(){return e.isCrossOrigin(this.url)}Cr(){const t={method:this.method,url:this.url,request:this,xhr:this.xhr,text:this.xhr.responseText,status:this.xhr.status,title:up.protocol.titleFromXHR(this.xhr),target:up.protocol.targetFromXHR(this.xhr),openLayer:up.protocol.openLayerFromXHR(this.xhr),acceptLayer:up.protocol.acceptLayerFromXHR(this.xhr),dismissLayer:up.protocol.dismissLayerFromXHR(this.xhr),eventPlans:up.protocol.eventPlansFromXHR(this.xhr),context:up.protocol.contextFromXHR(this.xhr),expireCache:up.protocol.expireCacheFromXHR(this.xhr),evictCache:up.protocol.evictCacheFromXHR(this.xhr),fail:this.fail};let n=up.protocol.methodFromXHR(this.xhr),i=up.protocol.locationFromXHR(this.xhr);return i&&(e.matchURLs(this.url,i)||(n||="GET"),t.url=i),n&&(t.method=n),new up.Response(t)}$r(t){return up.EventEmitter.fromEmitArgs(t,{layer:this.bindLayer,request:this,origin:this.origin})}emit(...t){return this.$r(t).emit()}assertEmitted(...t){this.$r(t).assertEmitted()}get description(){return this.method+" "+this.url}isBoundToSubtrees(t){return t=e.wrapList(t),e.some(this.bindFragments,(function(n){return e.some(t,(t=>t.contains(n)))}))}isBoundToLayers(t){return e.contains(t,this.bindLayer)}get age(){return new Date-this.builtAt}header(t){return this.headers[t]}gr(){for(let t of["target","failTarget","mode","failMode","context","failContext","originMode"])this.Mr(t);let t,e;(t=this.csrfHeader())&&(e=this.csrfToken())&&this.Hr(t,e),this.Hr(up.protocol.headerize("version"),up.version)}Mr(t){this.Hr(up.protocol.headerize(t),this[t])}Hr(t,n){e.isMissing(n)||((e.isOptions(n)||e.isArray(n))&&(n=e.safeStringifyJSON(n)),this.headers[t]=n)}mergeIfUnsent(t){if("new"!==this.state)return;if(!this.target||!t.target)return;let n=up.fragment.splitTarget(this.target+","+t.target);this.target=e.uniq(n).join(", "),this.Mr("target"),this.dr=e.uniq([...this.fragments,...t.fragments])}static tester(t,{except:n}={}){let i;if(e.isFunction(t))i=t;else if(t instanceof this)i=e=>t===e;else if(e.isString(t)){let e=new up.URLPattern(t);i=t=>e.test(t.url)}else i=e=>t;return n?t=>!up.cache.willHaveSameResponse(t,n)&&i(t):i}},e.delegatePromise(t.prototype,(function(){return this.Re})),t)},6374:()=>{var t;const e="multipart/form-data",n=up.util;up.Request.XHRRenderer=(t=class XHRRenderer{constructor(t){this.Ut=t}buildAndSend(t){const e=this.Ut.xhr;this.Nr=n.copy(this.Ut.params),this.Ut.timeout&&(e.timeout=this.Ut.timeout),e.open(this.jr(),this.Ut.url);let i=this.Br();i&&e.setRequestHeader("Content-Type",i);for(let t in this.Ut.headers){let n=this.Ut.headers[t];e.setRequestHeader(t,n)}Object.assign(e,t),e.send(this.qr())}jr(){let t=this.Ut.method;return this.Ut.wrapMethod&&!this.Ut.will302RedirectWithGET()&&(t=up.protocol.wrapMethod(t,this.Nr)),t}Br(){return this.Ir(),this.zr}qr(){return this.Ir(),this.Ur}Ir(){this.Ur=this.Ut.payload,this.zr=this.Ut.contentType,!this.Ur&&this.Ut.allowsPayload()&&(this.zr||(this.zr=this.Nr.hasBinaryEntries()?e:"application/x-www-form-urlencoded"),this.zr===e?(this.zr=null,this.Ur=this.Nr.toFormData()):this.Ur=this.Nr.toQuery().replace(/%20/g,"+"))}},n.memoizeMethod(t.prototype,{Ir:!0,jr:!0}),t)},6559:()=>{up.migrate={config:{}}},6607:()=>{const t=up.util;up.LinkCurrentURLs=class LinkCurrentURLs{constructor(e){if(this.Kr=up.link.isSafe(e),this.Kr){const n=e.getAttribute("href");n&&"#"!==n&&(this.Vr=t.matchableURL(n));const i=e.getAttribute("up-href");i&&(this.Xr=t.matchableURL(i));const s=e.getAttribute("up-alias");s&&(this.Wr=new up.URLPattern(s))}}isCurrent(t){return!(!t||this.Vr!==t&&this.Xr!==t&&!this.Wr?.test?.(t,!1))}isAnyCurrent(t){return t.some((t=>this.Vr===t||this.Xr===t||this.Wr?.test?.(t,!1)))}}},6689:()=>{const t=up.util,e=up.element;up.Selector=class Selector{constructor(e,n,i={}){this.Gr=[];let s,r=n&&!document.contains(n);if(r||i.destroying||this.Gr.push(up.fragment.isNotDestroying),this.Jr=r||"any"===i.layer||1===up.layer.count,this.Jr)s=up.layer.root;else{if(i.layer??=t.presence(n,t.isElement),this.ji=up.layer.getAll(i),!this.ji.length)throw new up.CannotMatch(["Unknown layer: %o",i.layer]);this.Gr.push((e=>t.some(this.ji,(t=>t.contains(e))))),s=this.ji[0]}this.Qr=up.fragment.expandTargets(e,{...i,layer:s}),this.Yr=this.Qr.join()||"match-none"}matches(t){return e.elementLikeMatches(t,this.Yr)&&this.Zr(t)}closest(t){return this.eo(t.closest(this.Yr))}descendants(t=document){return this.no(t.querySelectorAll(this.Yr))}firstDescendant(n){return this.Jr?(n||=document,this.io((t=>n.querySelectorAll(t)))):t.findResult(this.ji,(t=>this.io((n=>e.subtree(t.element,n)))))}subtree(t){return this.no(e.subtree(t,this.Yr))}io(e){return t.findResult(this.Qr,(t=>this.no(e(t))[0]))}Zr(e){return e&&t.every(this.Gr,(t=>t(e)))}eo(e){return t.presence(e,this.Zr.bind(this))}no(e){return t.filter(e,this.Zr.bind(this))}}},6705:()=>{let t="up.log.enabled",e=!1;try{e=!!sessionStorage?.getItem(t)}catch{}up.LogConfig=class LogConfig extends up.Config{constructor(){super((()=>({banner:!0,format:!0})))}get enabled(){return e}set enabled(n){e=n;try{sessionStorage?.setItem(t,n?"1":"")}catch{}}}},6805:()=>{const t=up.util;up.CompilerPass=class CompilerPass{constructor(t,e,{layer:n,data:i,dataRoot:s,dataMap:r,meta:o}){n||=up.layer.get(t)||up.layer.current,this.P=t,this.so=e,this.ot=n,this.ro=i,this.oo=s||t,this.uo=r,this.ao=[],o||={},o.layer=n,this.ho=o}run(){return this.ot.asCurrent((()=>{this.setCompileData();for(let t of this.so)this.co(t)})),Promise.all(this.ao)}setCompileData(){if(this.ro&&(this.oo.upCompileData=this.ro),this.uo)for(let t in this.uo)for(let e of this.lo(t))e.upCompileData=this.uo[t]}co(t){const e=this.po(t);if(e.length){if(t.isDefault||up.puts("up.hello()",'Compiling %d× "%s" on %s',e.length,t.selector,this.ot),t.batch)this.fo(t,e);else for(let n of e)this.do(t,n);up.migrate.postCompile?.(e,t)}}do(t,e){const n=[e];if(1!==t.length){const t=up.script.data(e);n.push(t,this.ho)}this.mo(t,e,n,(t=>up.destructor(e,t)))}fo(e,n){const i=[n];if(1!==e.length){const e=t.map(n,up.script.data);i.push(e,this.ho)}this.mo(e,n,i,(()=>this.yo(e)))}async mo(e,n,i,s){let r=up.error.guard((()=>e.apply(n,i)));if(t.isPromise(r)){let t=up.error.guardPromise(r);this.ao.push(t),r=await t}r&&s(r)}yo(t){let e=new up.Error(["Batch compiler (%s) cannot return a destructor",t.selector]);reportError(e)}lo(e){return up.fragment.subtree(this.P,t.evalOption(e),{layer:this.ot})}po(e){let n=this.lo(e.selector);return e.rerun||(n=t.filter(n,(t=>{let n=t.upAppliedCompilers||=new Set;if(!n.has(e))return n.add(e),!0}))),n}}},6858:()=>{var t;const e=up.util,n=up.element;up.ResponseDoc=(t=class ResponseDoc{constructor({document:t,fragment:e,content:n,target:i,origin:s,data:r,cspInfo:o,match:u}){if(t?this.wo(t,s,r):e?this.bo(e,s,r):this.vo(n||"",s,i,r),this._o=o||{},s){let t=up.fragment.tryToTarget(s);t&&(this.ko=this.select(t))}this.Is=u}wo(t,i,s){if(t instanceof Document)this.qs=t,this.So=!0;else if(e.isString(t)){this.So=n.isFullDocumentHTML(t);let e=t=>[n.createBrokenDocumentFromHTML(t)],r=up.fragment.provideNodes(t,{origin:i,data:s,htmlParser:e});r[0]instanceof Document?this.qs=r[0]:this.qs=this.Eo(r)}else this.qs=this.Eo(t)}bo(t,e,i){let s=n.extractSingular(up.fragment.provideNodes(t,{origin:e,data:i}));this.qs=this.Eo(s)}vo(t,i,s,r){s||up.fail("must pass a { target } when passing { content }");let o=e.map(up.fragment.parseTargetSteps(s),"selector").join(),u=up.fragment.provideNodes(t,{origin:i,data:r}),a=n.createFromSelector(o,{content:u});this.qs=this.Eo(a)}Eo(t){t=e.wrapList(t);let n=document.createElement("up-document");return n.append(...t),n}rootSelector(){return up.fragment.toTarget(this.qs.children[0])}get title(){return this.xo(this.Oo)}To(){if(this.So)return this.qs.head}xo(t){let e=this.To();return e&&t(e)}get metaTags(){return this.xo(up.history.findMetaTags)}get assets(){return this.xo((t=>{let n=up.script.findAssets(t);return e.map(n,(t=>(this.Fo(t),this.Co(t))))}))}get lang(){if(this.So)return up.history.getLang(this.qs)}Oo(t){return t.querySelector("title")?.textContent}select(t){return new up.FragmentFinder({selector:t,origin:this.ko,document:this.qs,match:this.Is}).find()}selectSteps(t){return t.filter((t=>this.Ro(t)||this.Lo(t)))}commitSteps(t){return t.filter((t=>this.commitElement(t.newElement)))}Ro(t){if(t.newElement)return!0;let e=this.select(t.selector);if(!e)return;let{selectEvent:n}=t;return n&&(n.newFragment=e,n.renderOptions=t.originalRenderOptions,up.emit(t.oldElement,n,{callback:t.selectCallback}),n.defaultPrevented)?void 0:(t.newElement=e,!0)}Lo(t){if(!t.maybe)throw new up.CannotMatch}Ao(t){let e=up.protocol.cspNonce();up.script.disableSubtree(t,(t=>!this.Po(t,e)))}Po(t,n){let i=up.fragment.config.runScripts;return!0===i&&this._o.declaration?.includes("'strict-dynamic'")?n&&n===t.nonce:e.evalOption(i,t)}Co(t){return n.revivedClone(t)}Do(t){if(this.qs instanceof Document)for(let e of n.subtree(t,":is(noscript, script, audio, video):not(.up-keeping, .up-keeping *)")){let t=this.Co(e);e.replaceWith(t)}}Fo(t){up.script.adoptNoncesInSubtree(t,this._o.nonces)}commitElement(t){if(this.qs.contains(t))return this.Fo(t),this.Ao(t),t.remove(),!0}finalizeElement(t){this.Do(t)}},e.memoizeMethod(t.prototype,{To:!0}),t)},6939:()=>{up.error=function(){function t(t){if("object"!=typeof(e=t)||!("AbortError"===e.name||e instanceof up.RenderResult||e instanceof up.Response))throw t;var e}function e(t,...e){try{return t(...e)}catch(t){reportError(t)}}return{fail:function(...t){throw new up.Error(t)},throwCritical:t,muteUncriticalRejection:function(e){return e.catch(t)},muteUncriticalSync:function(e){try{return e()}catch(e){t(e)}},guard:e,guardPromise:function(t){return t.catch(reportError)},guardFn:function(t){return(...n)=>e((()=>t(...n)))}}}(),up.fail=up.error.fail},6973:(t,e,n)=>{n(1006);const i=up.util,s=up.element;up.fragment=function(){function t(t){let e=s.tagName(t);if(e.startsWith("up-"))return e}const e=["[up-id]","[id]","html","head","body"],n=new up.Config((()=>({badTargetClasses:[/^up-/],strongTargetDerivers:e,targetDerivers:[...e,"main","[up-main]",t,"link[rel][type]","link[rel=preload][href]","link[rel=preconnect][href]","link[rel=prefetch][href]","link[rel]","meta[property]","*[name]","form[action]","a[href]","[class]","[up-flashes]","form"],verifyDerivedTarget:!0,renderOptions:{hungry:!0,keep:!0,saveScroll:!0,saveFocus:!0,focus:"keep",focusVisible:"auto",abort:"target",failOptions:!0,feedback:!0},navigateOptions:{cache:"auto",revalidate:"auto",fallback:!0,focus:"auto",scroll:"auto",history:"auto",peel:!0},match:"region",runScripts:!1,autoHistoryTargets:[":main"],autoFocus:["hash","autofocus","main-if-main","keep","target-if-lost"],autoScroll:["hash","layer-if-main"],autoRevalidate:t=>t.expired,skipResponse:r,renderableResponse:t=>t.isHTML(),normalizeKeepHTML:d})));function r({response:t,expiredResponse:e}){return!t.text||t.text===e?.text}function o(t,e={}){return t=w(t,e),s.closestAttr(t,"up-source")}function u(t){return i.normalizeURL(t,{hash:!1})}function a(t){let e=s.closestAttr(t,"up-time");if(e&&"false"!==e)return/^\d+$/.test(e)&&(e=1e3*Number(e)),new Date(e)}function h(t){let e=s.closestAttr(t,"up-etag");if(e&&"false"!==e)return e}i.delegate(n,["mainTargets"],(()=>up.layer.config.any));const c=up.mockable(((...t)=>{let e=S(t);return new up.RenderJob(e).execute()})),l=up.mockable(((...t)=>{const e=S(t);return c({...e,navigate:!0})}));function p({oldElement:t,newElement:e,newData:n,renderOptions:i}){const r=["Keeping fragment %o",t],o=s.callbackAttr(t,"up-on-keep",{exposedKeys:["newFragment","newData"]});return up.emit(t,"up:fragment:keep",{log:r,callback:o,newFragment:e,newData:n,renderOptions:i})}function f(t,e=m(t)){return t.upKeepIdentity??=i.copy(function(t,e){return"same-html"===e?n.normalizeKeepHTML(t.outerHTML):"same-data"!==e||up.data(t)}(t,e))}function d(t){let e=["up-etag","up-source","up-time","nonce",...up.script.config.nonceableAttributes],n=new RegExp(`\\s+(${e.join("|")})="[^"]*"`,"g");return(t=t.replace(/<[^<]+>/g,(t=>t.replace(n,"")))).replace(/^[ \t]+/gm,"")}function m(t){return s.booleanOrStringAttr(t,"up-keep")}function g(t){return!t.closest(".up-destroying")}function y(t){return t.isConnected&&g(t)}function w(...t){let[e,n,r]=v(t);return i.isElementLike(n)?s.get(n):e?b(e,n,r):new up.FragmentFinder({selector:n,...i.pick(r,["layer","match","origin","destroying"])}).find()}function b(...t){let[e,n,i]=v(t);return new up.Selector(n,e,i).firstDescendant(e)}function v(t){return i.args(t,"val","val","options")}function _(...t){let[e,n,s]=v(t);return i.isElement(n)?[n]:i.isList(n)?n:new up.Selector(n,e,s).descendants(e)}function k(t,e,n={}){return new up.Selector(e,t,n).subtree(t)}function S(t){const e=i.parseArgIntoOptions(t,"target");return i.isElement(e.target)&&(e.origin||=e.target),e}up.macro("[up-keep]",(t=>f(t)));const E=/^(onFail|on|fail)?(.+)$/;function x(t,e){return i.presence(t,i.isString)||O(t,e)||function(t){throw new up.CannotTarget(function(t){return`Cannot derive good target selector from a <${s.tagName(t)}> element without identifying attributes. Try setting an [id] or configure up.fragment.config.targetDerivers.`}(t))}(t)}function O(t,e={}){let r=e.strong?n.strongTargetDerivers:n.targetDerivers;return i.findResult(r,(function(r){let o=function(t,e){if(i.isFunction(e))return e(t);if(t.matches(e))try{return function(t,e){let{includePath:n,excludeRaw:i}=s.parseSelector(e);if(1!==n.length)throw new up.CannotParse(e);let{tagName:r,id:o,classNames:u,attributes:a}=n[0],h="";"*"===r?h+=s.tagName(t):r&&(h+=r);for(let t of u)h+=s.classSelector(t);o&&(h+=s.idSelector(o));for(let e in a){let n=a[e]||t.getAttribute(e);if("id"===e)h+=s.idSelector(n);else if("class"===e)for(let e of T(t))h+=s.classSelector(e);else h+=s.attrSelector(e,n)}return i&&(h+=i),h}(t,e)}catch(t){if(t instanceof up.CannotParse)return e;throw t}}(t,r);if(o&&function(t,e,i={}){let s=i.verify??n.verifyDerivedTarget;return!y(e)||!s||up.fragment.get(t,{layer:e,...i})===e}(o,t,e))return o}))}function T(t){return i.filter(t.classList,(t=>!i.some(n.badTargetClasses,(e=>{return n=e,s=t,i.isRegExp(n)?n.test(s):n===s;var n,s}))))}const F=/:main\b/,C=/:layer\b/,R=/:origin\b/;function L(t){return F.test(t)}function A(t,e={}){const{layer:n}=e;"new"===n||n instanceof up.Layer||up.fail("Must pass an up.Layer as { layer } option, but got %o",n),t=i.copy(i.wrapList(t));const s=[];for(;t.length;){let r=t.shift();if(!0===r&&(r=":main"),L(r)){let n=P(e),i=up.layer.mainTargets(n).map((t=>r.replace(F,t)));t.unshift(...i)}else if(C.test(r)){if("new"===n||"opening"===n.state)continue;let i=x(n.getFirstSwappableElement(),e);t.unshift(r.replace(C,i))}else i.isElementLike(r)?s.push(x(r,e)):i.isString(r)&&s.push($(r,e))}return i.uniq(s)}function P({layer:t,mode:e}){return"new"===t?e||up.fail('Must pass a { mode } option together with { layer: "new" }'):t.mode}function D(t,{origin:e}={}){return t.replace(R,(function(n){if(e)return x(e);up.fail('Missing { origin } element to resolve "%s" reference (found in %s)',n,t)}))}function $(t,e){return i.isString(t)?(up.migrate.resolveOrigin||D)(t,e):t}function M(t){return i.getComplexTokens(t)}const H=/^([\w-]+|\*)?(#|\.|[:[][a-z-]{3,})/;function N(t,{origin:e,originLayer:n,data:r,htmlParser:o=s.createNodesFromHTML}={}){if(i.isString(t)&&H.test(t)){let[s,o]=i.parseScalarJSONPairs(t)[0];r={...r,...o},t=up.fragment.get(s,{layer:"closest",origin:e,originLayer:n})||up.fail('Cannot find template "%s"',t)}return i.isString(t)&&(t=o(t)),function(t){return i.isElement(t)&&t.matches("template, script[type]")&&!up.script.isScript(t)}(t)&&(t=j(t,r,{htmlParser:o})),i.wrapList(t)}function j(t,e={},{origin:n,htmlParser:i}={}){let r=w(t,{origin:n})||up.fail("Template not found: %o",t),o=up.emit(r,"up:template:clone",{data:e,nodes:null,log:["Using template %o",t]}).nodes??function(t,e=s.createNodesFromHTML){return e(t.innerHTML)}(r,i);for(let t of o)t.upTemplateData=e;return o}let B=0,q=i.cleaner("fifo");return up.on("up:framework:boot",(function(){const{documentElement:t}=document;if(up.hello(t),t.setAttribute("up-source",u(location.href)),!up.browser.canPushState())return up.warn("Cannot push history changes. Next render pass with history will load a full page.")})),{config:n,reload:function(...t){const e=S(t);e.target||=":main";const n=w(e.target,e);return e.url||=o(n),e.headers=i.merge(e.headers,function(t){let e={},n=a(t);n&&(e["If-Modified-Since"]=n.toUTCString());let i=h(t);return i&&(e["If-None-Match"]=i),e}(n)),(e.keepData||s.booleanAttr(n,"up-keep-data"))&&(e.data=up.data(n)),up.migrate.postprocessReloadOptions?.(e),c(e)},destroy:function(...t){const e=S(t),n=w(e.target,e);return n&&new up.Change.DestroyFragment({...e,element:n}).execute(),up.migrate.formerlyAsync?.("up.destroy()")},render:c,navigate:l,get:w,getFirstDescendant:b,all:_,subtree:k,contains:function(t,e){return i.isElement(e)?s.contains(t,e)&&up.layer.get(t).contains(e):k(t,e).length>0},closest:function(t,e,n){return new up.Selector(e,t,n).closest(t)},source:o,normalizeSource:u,visit:function(t,e){return l({...e,url:t})},markAsDestroying:function(t){t.classList.add("up-destroying"),t.setAttribute("inert","")},emitInserted:function(t){if(!t.upInserted)return t.upInserted=!0,up.emit(t,"up:fragment:inserted",{log:["Inserted fragment %o",t]})},emitDestroyed:function(t,e){const n=e.log??["Destroyed fragment %o",t],i=e.parent||document;return up.emit(i,"up:fragment:destroyed",{fragment:t,parent:i,log:n})},emitKeep:p,emitKept:function({oldElement:t,newElement:e,newData:n}){return up.emit(t,"up:fragment:kept",{log:!0,newFragment:e,newData:n})},keepPlan:function(t){if(!1===t.keep)return;const{oldElement:e,newElement:n}=t;let r,o=m(e);if(!o)return;let u=up.fragment.toTarget(e);const a={layer:t.layer};if(r=t.descendantsOnly?up.fragment.get(n,u,a):s.subtreeFirst(n,u,a),!r)return;if(!1===m(r))return;let h=f(e,o),c=f(r,o);if(!i.isEqual(h,c))return;const l={oldElement:e,newElement:r,newData:up.script.data(r),renderOptions:t};return p(l).defaultPrevented?void 0:l},defaultNormalizeKeepHTML:d,successKey:function(t){let e=E.exec(t);if(e){let[t,n,s]=e;switch(n){case"onFail":return"on"+i.upperCaseFirst(s);case"fail":return i.lowerCaseFirst(s)}}},failKey:function(t){let e=E.exec(t);if(e){let[t,n,s]=e;switch(n){case"on":return"onFail"+i.upperCaseFirst(s);case void 0:return"fail"+i.upperCaseFirst(s)}}},expandTargets:A,resolveOrigin:$,toTarget:x,tryToTarget:O,isTargetable:function(t,e){return!!O(t,e)},matches:function(t,e,n={}){if(t=s.get(t),i.isElement(e)){let n=O(e);return n&&t.matches(n)}return new up.Selector(e,t,n).matches(t)},hasAutoHistory:function(t,e){let i=A(n.autoHistoryTargets,{layer:e}).join();for(let e of t)if(s.subtree(e,i).length)return!0;return up.puts("up.render()","Will not auto-update history because fragment doesn't contain a selector from up.fragment.config.autoHistoryTargets"),!1},time:a,etag:h,shouldRevalidate:function(t,e,s={}){return t.fromCache&&i.evalAutoOption(s.revalidate,n.autoRevalidate,e)},abort:function(...t){let e,n,s=S(t),{reason:r,newLayer:o,jid:u}=s;if(s.target)n=_(s.target,s),e=t=>t.isBoundToSubtrees(n),r||="Aborting requests within fragment";else{let t=up.layer.getAll(s);n=i.map(t,"element"),e=e=>e.isBoundToLayers(t),r||="Aborting requests within "+t.join(", ")}up.network.abort((t=>t.abortable&&e(t)),{...s,reason:r});for(let t of n)up.emit(t,"up:fragment:aborted",{reason:r,newLayer:o,jid:u,log:r})},onAborted:function(t,e){return up.event.onAncestor(t,"up:fragment:aborted",e)},onKept:function(t,e){return up.event.onAncestor(t,"up:fragment:kept",e)},onFirstIntersect:function(t,e,{margin:n=0}={}){if(s.isIntersectingWindow(t,{margin:n}))return void e();let i=new IntersectionObserver((function(t){for(let n of t)if(n.isIntersecting)return r(),void e()}),{rootMargin:`${n}px`}),r=()=>i.disconnect();i.observe(t),up.destructor(t,r)},splitTarget:M,parseTargetSteps:function(t,e={}){let n=e.defaultPlacement||"swap",i=e.defaultMaybe??!1,s=[],r=M(t);for(let t of r){if(":none"===t)continue;let r=n,o=i;t=t.replace(/\b::?(before|after|content)\b/,((t,e)=>(r=e,""))),t=t.replace(/\b:maybe\b/,(()=>(o=!0,"")));const u={...e,selector:t,placement:r,maybe:o,originalRenderOptions:e};s.push(u)}return s},isAlive:y,isNotDestroying:g,targetForSteps:function(t){let e=t.filter((t=>!t.maybe||t.oldElement?.isConnected));return i.map(e,"selector").join(", ")||":none"},compressNestedSteps:function(t){if(t.length<2)return t;let e=i.uniqBy(t,"oldElement");return e=i.reject(e,(t=>function(t,e){return i.some(t,(function(t){return t!==e&&("swap"===t.placement||"content"===t.placement)&&t.oldElement.contains(e.oldElement)}))}(e,t))),e},containsMainPseudo:L,insertTemp:function(...t){let[e,n="beforeend",r]=i.args(t,"val",i.isAdjacentPosition,"val"),o=N(r,{origin:e}),u=s.wrapIfRequired(o),a=document.contains(u)&&s.documentPosition(u);return e.insertAdjacentElement(n,u),a?()=>{a[0].insertAdjacentElement(a[1],u)}:(up.hello(u),()=>up.destroy(u))},provideNodes:N,cloneTemplate:j,trackSelector:function(...t){let e=i.args(t,"val","options","callback");return new up.SelectorTracker(...e).start()},mutate:function(t){try{return B++,t()}finally{0==--B&&q.clean()}},afterMutate:function(t){0===B?t():q(t)}}}(),up.reload=up.fragment.reload,up.destroy=up.fragment.destroy,up.render=up.fragment.render,up.navigate=up.fragment.navigate,up.visit=up.fragment.visit,up.template={clone:up.fragment.cloneTemplate},i.delegate(up,["context"],(()=>up.layer.current))},7078:(t,e,n)=>{"use strict";n.r(e)},7080:()=>{const t=up.util,e=up.element;up.OptionsParser=class OptionsParser{constructor(t,e,n={}){this.A=e,this.ut=t,this.$o=n.fail,this.Mo=n.closest,this.Ho=n.attrPrefix||"up-",this.No=n.defaults??{}}string(t,n){this.parse(e.attr,t,n)}boolean(t,n){this.parse(e.booleanAttr,t,n)}number(t,n){this.parse(e.numberAttr,t,n)}booleanOrString(t,n){this.parse(e.booleanOrStringAttr,t,n)}booleanOrNumber(t,n){this.parse(e.booleanOrNumberAttr,t,n)}json(t,n){this.parse(e.jsonAttr,t,n)}callback(t,n={}){this.parse(((t,i)=>e.callbackAttr(t,i,n)),t,n)}parse(e,n,i={}){const s=t.wrapList(i.attr??this.jo(n));let r,o=this.A[n];for(let t of s)o??=this.Bo(e,this.ut,t);if(!1!==this.No&&(o??=i.default??this.No[n]),t.isDefined(o)){let t=i.normalize;t&&(o=t(o)),this.A[n]=o}if(this.$o&&(r=up.fragment.failKey(n))){const n=t.compact(t.map(s,(t=>this.qo(t))));this.parse(e,r,{...i,attr:n})}}include(t,e){let n=t(this.ut,this.A,{defaults:this.No,...e});Object.assign(this.A,n)}Bo(t,n,i){return this.Mo?e.closestAttr(n,i,t):t(n,i)}qo(t){return this.Io(t,this.Ho+"on-")||this.Io(t,this.Ho)}Io(t,e){if(t.startsWith(e))return`${e}fail-${t.substring(e.length)}`}jo(e){return`${this.Ho}${t.camelToKebabCase(e)}`}}},7115:()=>{window.up={version:"3.12.0"}},7275:()=>{const t=up.util;up.FIFOCache=class FIFOCache{constructor({capacity:e=10,normalizeKey:n=t.identity}={}){this.zo=new Map,this.Uo=e,this.Ko=n}get(t){return t=this.Ko(t),this.zo.get(t)}set(t,e){if(this.zo.size===this.Uo){let t=this.zo.keys().next().value;this.zo.delete(t)}t=this.Ko(t),this.zo.set(t,e)}clear(){this.zo.clear()}}},7294:()=>{const t=up.util;class Route{constructor(){this.varyHeaders=new Set,this.requests=[]}matchBest(e){let n=this.requests.filter((t=>this.satisfies(t,e)));return t.last(n)}delete(e){t.remove(this.requests,e)}put(t){this.requests.push(t)}updateVary(t){for(let e of t.varyHeaderNames)this.varyHeaders.add(e)}satisfies(e,n){return e===n||t.every(this.varyHeaders,(i=>{let s=e.header(i),r=n.header(i);if("X-Up-Target"===i||"X-Up-Fail-Target"===i){if(!s)return!0;if(!r)return!1;let e=up.fragment.splitTarget(s),n=up.fragment.splitTarget(r);return t.containsAll(e,n)}return s===r}))}}up.Request.Cache=class Cache{constructor(){this.reset()}reset(){this.Vo={},this.Xo=[]}get(t){t=this.Wo(t);let e=this.Go(t),n=e.matchBest(t);if(n){if(this.Jo(n))return n;this.Qo(t,e)}}async put(t){t=this.Wo(t);let e=this.Go(t),{response:n}=t;n&&e.updateVary(n);let i=e.requests.filter((n=>e.satisfies(t,n)));for(let t of i)this.Qo(t);t.cacheRoute=e,e.put(t),this.Xo.push(t),this.Yo()}async track(e,n,i={}){let s;n.trackedRequest=e,n.state="tracking",s=e.ended&&e.response?e.response:await t.always(e),s instanceof up.Response?i.force||e.cacheRoute.satisfies(e,n)?(n.fromCache=!0,s=t.variant(s,{request:n}),n.respondWith(s),t.delegate(n,["expired","state"],(()=>e))):(delete n.trackedRequest,n.state="new",i.onIncompatible?.(n)):(n.state=e.state,n.Ar(s))}willHaveSameResponse(t,e){return t===e||t===e.trackedRequest}evict(t=!0,e){this.Zo(t,e,(t=>this.Qo(t)))}expire(t=!0,e){this.Zo(t,e,(t=>t.expired=!0))}reindex(t){this.Qo(t),delete t.cacheRoute,this.put(t)}Qo(e){t.remove(this.Xo,e),e.cacheRoute?.delete(e)}Go(t){return t.cacheRoute||(this.Vo[t.description]||=new Route)}Jo(t){return t.age<up.network.config.cacheEvictAge}get currentSize(){return this.Xo.length}get Uo(){return up.network.config.cacheSize}Yo(){for(let t=0;t<this.currentSize-this.Uo;t++)this.Qo(this.Xo[0])}Zo(e=!0,n,i){let s=up.Request.tester(e,n),r=t.filter(this.Xo,s);t.each(r,i)}Wo(e){return t.wrapValue(up.Request,e)}}},7304:()=>{var t;const e=up.element,n=up.util;up.Layer.Overlay=((t=class Overlay extends up.Layer{keys(){return[...super.keys(),...this.constructor.VISUAL_KEYS,"onOpened","onAccept","onAccepted","onDismiss","onDismissed","acceptEvent","dismissEvent","acceptLocation","dismissLocation"]}constructor(t){super(t),this.state="opening",!0===this.dismissable?this.dismissable=["button","key","outside"]:!1===this.dismissable?this.dismissable=[]:this.dismissable=n.getSimpleTokens(this.dismissable),this.acceptLocation&&(this.acceptLocation=new up.URLPattern(this.acceptLocation)),this.dismissLocation&&(this.dismissLocation=new up.URLPattern(this.dismissLocation))}callback(t){let e=this[t];if(e)return e.bind(this)}createElement(t){this.nesting||=this.tu();const e=n.compactObject(n.pick(this,["align","position","size","class","nesting"]));this.element=this.affixPart(t,null,e)}createBackdropElement(t){this.backdropElement=this.affixPart(t,"backdrop")}createViewportElement(t){this.viewportElement=this.affixPart(t,"viewport",{"up-viewport":""})}createBoxElement(t){this.boxElement=this.affixPart(t,"box")}createContentElement(t){this.contentElement=this.affixPart(t,"content")}setContent(t){this.contentElement.append(t),this.onContentSet()}onContentSet(){}createDismissElement(t){return this.dismissElement=this.affixPart(t,"dismiss",{"up-dismiss":'":button"',"aria-label":this.dismissARIALabel}),e.affix(this.dismissElement,'span[aria-hidden="true"]',{text:this.dismissLabel})}affixPart(t,n,i={}){return e.affix(t,this.selector(n),i)}static selector(t){return n.compact(["up",this.mode,t]).join("-")}tu(){const{parent:t}=this;return this.mode===t.mode?1+t.tu():0}setupHandlers(){super.setupHandlers(),this.overlayFocus=new up.OverlayFocus(this),this.eu("button")&&this.createDismissElement(this.getBoxElement()),this.eu("outside")&&(this.viewportElement?up.on(this.viewportElement,"up:click",(t=>{t.target===this.viewportElement&&this.nu(t,!0)})):this.iu=this.parent.on("up:click",((t,e)=>{if(!up.layer.isWithinForeignOverlay(e)){const n=this.origin&&this.origin.contains(e);this.nu(t,n)}}))),this.eu("key")&&(this.su=up.event.onEscape((t=>this.onEscapePressed(t)))),this.registerAttrCloser("up-accept",((t,e)=>{this.accept(t,e)})),this.registerAttrCloser("up-dismiss",((t,e)=>{this.dismiss(t,e)})),up.migrate.registerLayerCloser?.(this),this.ru(this.acceptEvent,this.accept),this.ru(this.dismissEvent,this.dismiss),this.on("up:click","label[for]",((t,e)=>this.ou(t,e)))}ou(t,n){let i=n.getAttribute("for"),s=up.form.fieldSelector(e.idSelector(i)),r=up.fragment.all(s,{layer:"any"}),o=up.fragment.all(s,{layer:this});if(r.length>1&&o[0]!==r[0]){t.preventDefault();const e=o[0];e.focus(),e.matches("input[type=checkbox], input[type=radio]")&&e.click()}}nu(t,e){up.log.putsEvent(t),e&&up.event.halt(t),up.error.muteUncriticalSync((()=>this.dismiss(":outside",{origin:t.target})))}onEscapePressed(t){if(this.isFront()){let e=up.form.focusedField();e?e.blur():this.eu("key")&&(up.event.halt(t,{log:!0}),up.error.muteUncriticalSync((()=>this.dismiss(":key"))))}}registerAttrCloser(t,e){this.uu(t,e),this.au(t,e)}uu(t,n){this.on("up:click",`[${t}]:not(form)`,((i,s)=>{up.event.halt(i,{log:!0});const r=e.jsonAttr(s,t);this.hu(s,r,n)}))}au(t,e){this.on("submit",`[${t}]`,((t,n)=>{up.event.halt(t,{log:!0});const i=up.Params.fromForm(n);this.hu(n,i,e)}))}hu(t,e,n){const i={origin:t},s=new up.OptionsParser(t,i);s.booleanOrString("animation"),s.string("easing"),s.number("duration"),s.string("confirm"),up.error.muteUncriticalSync((()=>n(e,i)))}ru(t,e){if(t)return this.on(t,(t=>{t.preventDefault(),up.error.muteUncriticalSync((()=>e.call(this,t,{response:t.response})))}))}tryAcceptForLocation(t){this.cu(this.acceptLocation,this.accept,t)}tryDismissForLocation(t){this.cu(this.dismissLocation,this.dismiss,t)}cu(t,e,n){let i,s;if(t&&(i=this.location)&&(s=t.recognize(i))){const t={...s,location:i};up.error.muteUncriticalSync((()=>e.call(this,t,n)))}}teardownHandlers(){super.teardownHandlers(),this.iu?.(),this.su?.()}destroyElements(t){const e={...t,animation:()=>this.startCloseAnimation(t),onFinished:()=>{this.onElementsRemoved(),t.onFinished?.()},log:!1};up.destroy(this.element,e)}onElementsRemoved(){}lu(t={}){const e=up.animate(this.getBoxElement(),t.boxAnimation,t);let n;return this.backdrop&&!up.motion.isNone(t.boxAnimation)&&(n=up.animate(this.backdropElement,t.backdropAnimation,t)),Promise.all([e,n])}async startOpenAnimation(t={}){let e=t.animation??this.evalOption(this.openAnimation);await this.lu({boxAnimation:e,backdropAnimation:"fade-in",easing:t.easing||this.openEasing,duration:t.duration||this.openDuration}),this.wasEverVisible=!0}startCloseAnimation(t={}){let e=this.wasEverVisible&&(t.animation??this.evalOption(this.closeAnimation));return this.lu({boxAnimation:e,backdropAnimation:"fade-out",easing:t.easing||this.closeEasing,duration:t.duration||this.closeDuration})}isAlive(){return["opening","opened"].includes(this.state)}accept(t=null,e={}){return this.pu("accept",t,e)}dismiss(t=null,e={}){return this.pu("dismiss",t,e)}eu(t){return n.contains(this.dismissable,t)}pu(t,e,n){return n={...n,verb:t,value:e,layer:this},new up.Change.CloseLayer(n).execute()}getFirstSwappableElement(){return this.getContentElement().children[0]}toString(){return`${this.mode} overlay`}}).VISUAL_KEYS=["mode","position","align","size","origin","class","backdrop","dismissable","dismissLabel","dismissARIALabel","openAnimation","closeAnimation","openDuration","closeDuration","openEasing","closeEasing","trapFocus"],t.UNSET_VISUALS=n.spanObject(t.VISUAL_KEYS,void 0),t)},7687:()=>{const t=up.element,e=up.util;up.Layer=class Layer extends up.Record{keys(){return["element","stack","history","mode","context","lastScrollTops","lastFocusCapsules"]}defaults(){return{context:{},lastScrollTops:up.viewport.newStateCache(),lastFocusCapsules:up.viewport.newStateCache()}}constructor(t={}){super(t),e.assert(this.mode)}setupHandlers(){up.link.convertClicks(this),this.fu=up.on("up:location:changed",(t=>this.du(t)))}teardownHandlers(){this.fu?.()}mainTargets(){return up.layer.mainTargets(this.mode)}sync(){}accept(){throw new up.NotImplemented}dismiss(){throw new up.NotImplemented}peel(t){this.stack.peel(this,t)}evalOption(t){return e.evalOption(t,this)}isCurrent(){return this.stack.isCurrent(this)}isFront(){return this.stack.isFront(this)}isRoot(){return this.stack.isRoot(this)}isOverlay(){return this.stack.isOverlay(this)}isAlive(){throw new up.NotImplemented}get parent(){return this.stack.parentOf(this)}get child(){return this.stack.childOf(this)}get ancestors(){return this.stack.ancestorsOf(this)}get descendants(){return this.stack.descendantsOf(this)}get subtree(){return[this,...this.descendants]}get index(){return this.mu??=this.stack.indexOf(this)}getContentElement(){return this.contentElement||this.element}getBoxElement(){return this.boxElement||this.element}getFocusElement(){return this.getBoxElement()}getFirstSwappableElement(){throw new up.NotImplemented}contains(t){return t.closest(up.layer.anySelector())===this.element}on(...t){return this.gu(t).bind()}off(...t){return this.gu(t).unbind()}gu(t){return up.EventListenerGroup.fromBindArgs(t,{guard:t=>this.yu(t),elements:[this.element],baseLayer:this})}yu(t){return this.contains(t.target)}wasHitByMouseEvent({clientX:t,clientY:e}){const n=document.elementFromPoint(t,e);return!n||this.contains(n)}$r(t){return up.EventEmitter.fromEmitArgs(t,{layer:this})}emit(...t){return this.$r(t).emit()}isDetached(){return!this.element.isConnected}saveHistory(){e.assert(this.isFront()),this.showsLiveHistory()&&(this.wu=this.title,this.bu=this.metaTags,this.vu=this.location,this._u=this.lang)}restoreHistory(){this.showsLiveHistory()&&(this.vu&&up.history.push(this.vu),this.wu&&(document.title=this.wu),this.bu&&up.history.updateMetaTags(this.bu),e.isString(this._u)&&up.history.updateLang(this._u))}asCurrent(t){return this.stack.asCurrent(this,t)}updateHistory(t){e.isString(t.location)&&this.ku(t.location,{push:!0}),up.history.config.updateMetaTags&&e.isList(t.metaTags)&&(up.migrate?.warnOfHungryMetaTags?.(t.metaTags),this.Su(t.metaTags)),e.isString(t.title)&&this.Eu(t.title),e.isString(t.lang)&&this.xu(t.lang)}showsLiveHistory(){return this.history&&this.isFront()}du({location:t}){this.showsLiveHistory()&&this.ku(t,{push:!1})}get title(){return this.showsLiveHistory()?document.title:this.wu}Eu(t){this.wu=t,this.showsLiveHistory()&&(document.title=t)}get metaTags(){return this.showsLiveHistory()?up.history.findMetaTags():this.bu}Su(t){this.bu=t,this.showsLiveHistory()&&up.history.updateMetaTags(t)}get lang(){return this.showsLiveHistory()?up.history.getLang():this._u}xu(t){this._u=t,this.showsLiveHistory()&&up.history.updateLang(t)}get location(){return this.showsLiveHistory()?up.history.location:this.vu}ku(t,{push:e}){let n=this.vu,i=up.history.location;this.vu=t,t!==i&&this.showsLiveHistory()&&e&&up.history.push(t),t!==n&&"opening"!==this.state&&this.emit("up:layer:location:changed",{location:t,previousLocation:n,log:!1})}selector(t){return this.constructor.selector(t)}static selector(t){throw new up.NotImplemented}toString(){throw new up.NotImplemented}affix(...e){return t.affix(this.getFirstSwappableElement(),...e)}[e.isEqual.key](t){return this.constructor===t.constructor&&this.element===t.element}hasFocus(){let t=document.activeElement;return t!==document.body&&this.element.contains(t)}reset(){Object.assign(this,this.defaults())}}},7718:()=>{up.RenderResult=class RenderResult extends up.Record{keys(){return["fragments","layer","target","renderOptions","finished"]}defaults(){return{fragments:[],finished:Promise.resolve()}}get none(){return!this.fragments.length}get fragment(){return this.fragments[0]}get ok(){return!this.renderOptions.didFail}static both(t,e,n=!0){return e?new this({...t,fragments:t.fragments.concat(e.fragments),finished:n&&this.mergeFinished(t,e)}):t}static async mergeFinished(t,e){return this.both(await t.finished,await e.finished,!1)}}},7781:(t,e,n)=>{n(4118),up.element=function(){const t=up.util;function e(t,e){const i=t.querySelectorAll(e);return n(t,e)?[t,...i]:i}function n(e,n){return t.isElement(e)&&e.matches(n)}function i(...e){const n=e.pop();return t.isElement(n)?n:t.isString(n)?function(...e){let[n=document,i]=t.args(e,"val","val");return n.querySelector(i)}(...e,n):t.isList(n)?(n.length>1&&up.fail("up.element.get(): Cannot cast multiple elements (%o) to a single element",n),n[0]):n}function s(...e){return t.flatMap(e,r)}function r(e){return t.isString(e)?document.querySelectorAll(e):t.wrapList(e)}function o(e,n){return n===M(e)?t.noop:(u(e,n),()=>u(e,!n))}function u(t,e){e?(t.removeAttribute("hidden"),"none"===t.style.display&&(t.style.display="")):t.setAttribute("hidden","")}function a(e,n){for(let i in n){const s=n[i];t.isGiven(s)?e.setAttribute(i,s):e.removeAttribute(i)}}function h(t,e){t.parentNode.insertBefore(e,t)}function c(e,n={}){let i,s,r,{includePath:o}=p(e);for(let t of o){let{tagName:e}=t;e&&"*"!==e||(e="div"),s=document.createElement(e),i||(i=s),l(s,t),r?.appendChild(s),r=s}for(let e in n){let s=n[e];"class"===e?F(i,t.wrapList(s)):"style"===e?D(i,s):"text"===e?i.textContent=s:"content"===e?t.isString(s)?i.innerHTML=s:i.append(...t.wrapList(s)):i.setAttribute(e,s)}return i}function l(t,{id:e,classNames:n,attributes:i}){e&&(t.id=e);for(let[e,n]of Object.entries(i))t.setAttribute(e,n);F(t,n)}function p(e){let n;const{masked:i,restore:s}=t.expressionOutline(e),r=i.replace(/:not\([^)]*\)/,(function(t){return n=s(t),""}));let o=s(r);return{includePath:r.split(/[ >]+/).map((function(n){let i={tagName:null,classNames:[],id:null,attributes:{}};return(n=(n=(n=(n=n.replace(/^[\w-*]+/,(function(t){return i.tagName=t,""}))).replace(/#([\w-]+)/,(function(t,e){return i.id=e,""}))).replace(/\.([\w-]+)/g,(function(t,e){return i.classNames.push(e),""}))).replace(/\[[^\]]*]/g,(function(e){e=s(e);let[n,r,o,u,a]=e.match(/\[([\w-]+)(?:([~|^$*]?=)(["'])?([^\3\]]*?)\3)?]/);return u||='"',i.attributes[r]=a?t.parseString(u+a+u):"",""})))&&up.fail("Cannot parse selector: "+e),i})),includeRaw:o,excludeRaw:n}}const f=["HTML","BODY","HEAD","TITLE"],d=up.mockable((t=>t.matches(f.join())));function m(e,n){return t.isGiven(n)?`[${e}="${n=n.replace(/"/g,'\\"')}"]`:`[${e}]`}function g(t){return y(w(t))}function y(e){if(1===e.length&&t.isElementLike(e[0]))return e[0];up.fail("Expected a single element, but got %d elements",e.length)}function w(t){t=t.trim();const e=document.createRange();return e.setStart(document.body,0),e.createContextualFragment(t).childNodes}function b(t){t.offsetHeight}function v(e,n,i){t.isMissing(e.getAttribute(n))&&e.setAttribute(n,i)}function _(e){const n=document.createElement("up-wrapper");return n.append(...t.wrapList(e)),n}function k(e,n,...i){if(!e.hasAttribute?.(n))return;let s=e.getAttribute(n);for(let r of i){let i=r(s,n,e);if(t.isDefined(i))return i}}function S(t,e){return k(t,e,E)}let E=t.identity;function x(t,e){switch(t){case"false":return!1;case"true":case"":case e:return!0}}function O(t){if((t=t.replaceAll("_","")).match(/^-?[\d.]+$/))return parseFloat(t)}function T(e){if(e?.trim())return t.parseRelaxedJSON(e)}function F(t,e){for(let n of e)t.classList.add(n)}function C(e,n,i){return e.classList.contains(n)===i?t.noop:(e.classList.toggle(n,i),()=>e.classList.toggle(n,!i))}function R(t,e){return P(window.getComputedStyle(t),e)}function L(e,n){const i=R(e,n);if(t.isPresent(i))return parseFloat(i)}function A(t,e){const{style:n}=t;return P(n,e)}function P(e,n){return up.migrate.loaded&&(n=up.migrate.fixGetStyleProps(n)),t.isString(n)?e.getPropertyValue(n):t.mapObject(n,(t=>[t,e.getPropertyValue(t)]))}function D(e,n,i=""){if(up.migrate.loaded&&(n=up.migrate.fixSetStyleProps(n,i)),t.isString(n))e.setAttribute("style",n);else{const{style:t}=e;for(let e in n){let s=n[e];t.setProperty(e,s+i)}}}function $(t,e){const n=A(t,Object.keys(e));return D(t,e),()=>D(t,n)}function M(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function H(t){return/^up-/.test(t)}function N(e,n){return t.mapObject(n,(t=>[t,e.getAttribute(t)]))}const j=/^\s*(<!--[^-]*.*?-->\s*)*<([a-z-!]+)\b/i;function B(t){return j.exec(t)?.[2].toUpperCase()}return{subtree:e,subtreeFirst:function(t,e){return n(t,e)?t:t.querySelector(e)},contains:function(t,e){const n=i(e);return Node.prototype.contains.call(t,n)},closestAttr:function(t,e,n=S){let i=t.closest("["+e+"]");if(i)return n(i,e)},ancestor:function(t,e){return t.parentNode?.closest(e)},around:function(t,n){return s(t.closest(n),e(t,n))},get:i,list:s,toggle:function(t,e=!M(t)){u(t,e)},hide:function(t){u(t,!1)},hideTemp:function(t){return o(t,!1)},show:function(t){u(t,!0)},showTemp:function(t){return o(t,!0)},metaContent:function(t){const e="meta"+m("name",t);return document.head.querySelector(e)?.getAttribute("content")},insertBefore:h,createFromSelector:c,setAttrs:a,setAttrsTemp:function(t,e){let n=Object.keys(e),i=N(t,n);return a(t,e),()=>a(t,i)},affix:function(...e){let[n,i="beforeend",s,r]=t.args(e,"val",t.isAdjacentPosition,"val","options");const o=c(s,r);return n.insertAdjacentElement(i,o),o},idSelector:function(t){return t.match(/^[a-z][a-z0-9\-_]*$/i)?`#${t}`:m("id",t)},classSelector:function(t){return`.${t=t.replace(/[^\w-]/g,"\\$&")}`},isSingleton:d,attrSelector:m,tagName:function(t){return t.tagName.toLowerCase()},createBrokenDocumentFromHTML:function(t){const e=B(t);return["TR","TD","TH","THEAD","TBODY"].includes(e)&&(t=`<table>${t}</table>`),(new DOMParser).parseFromString(t,"text/html")},revivedClone:function(t){let e=g(t.outerHTML);return"nonce"in t&&(e.nonce=t.nonce),e},createNodesFromHTML:w,createFromHTML:g,extractSingular:y,get root(){return document.documentElement},paint:b,concludeCSSTransition:function(t){const e=$(t,{transition:"none"});return b(t),e},hasCSSTransition:function(t){const e=t["transition-property"],n=t["transition-duration"];return!("none"===e||"all"===e&&0===n)},fixedToAbsolute:function(t){const e=t.getBoundingClientRect();t.style.position="absolute";const n=t.offsetParent.getBoundingClientRect();D(t,{left:e.left-L(t,"margin-left")-n.left+"px",top:e.top-L(t,"margin-top")-n.top+"px",right:"",bottom:""})},setMissingAttrs:function(t,e){for(let n in e)v(t,n,e[n])},setMissingAttr:v,unwrap:function(t){!function(){const e=document.activeElement;try{return function(){let e=[...t.childNodes];for(let n of e)h(t,n);t.remove()}()}finally{e&&e!==document.activeElement&&e.focus({preventScroll:!0})}}()},wrapChildren:function(t){const e=_(t.childNodes);return t.append(e),e},wrapIfRequired:function(e){return 1===e.length&&t.isElement(e[0])?e[0]:_(e)},attr:S,booleanAttr:function(t,e){return k(t,e,x)},numberAttr:function(t,e){return k(t,e,O)},jsonAttr:function(t,e){return k(t,e,T)},callbackAttr:function(e,n,i){return k(e,n,(n=>function(e,n,{exposedKeys:i=[],mainKey:s="event"}={}){const r=up.NonceableCallback.fromString(e).toFunction(s,...i);return function(e){const s=Object.values(t.pick(e,i));return r.call(n,e,...s)}}(n,e,i)))},booleanOrStringAttr:function(t,e){return k(t,e,x,E)},booleanOrNumberAttr:function(t,e){return k(t,e,x,O)},setStyleTemp:$,style:R,styleNumber:L,inlineStyle:A,setStyle:D,isVisible:M,upAttrs:function(t){let e=t.getAttributeNames().filter(H);return N(t,e)},upClasses:function(e){return t.filter(e.classList.values(),H)},setAttrPresence:function(t,e,n,i){return i?t.setAttribute(e,n):t.removeAttribute(e)},addClasses:F,addClassTemp:function(t,e){return C(t,e,!0)},removeClassTemp:function(t,e){return C(t,e,!1)},cleanJQuery:function(t){up.browser.canJQuery()&&jQuery(t).remove()},parseSelector:p,isEmpty:function(t){return!t.children.length>0&&!t.innerText.trim()},crossOriginSelector:function(t){return`[${t}*="//"]:not([${t}*="//${location.host}/"])`},isIntersectingWindow:function(t,{margin:e=0}={}){const n=up.Rect.fromElement(t);return n.grow(e),n.bottom>0&&n.top<window.innerHeight&&n.right>0&&n.left<window.innerWidth},unionSelector:function(e,n){let i=`:is(${e.join()})`;return t.isPresent(n)&&(i+=`:not(${n.join()})`),i},matchSelectorMap:function(e,n){let i=[];if(e)for(let[s,r]of Object.entries(e))t.isDefined(r)&&n.matches(s)&&i.push(r);return i},elementLikeMatches:n,documentPosition:function(t){let e=t.nextElementSibling;return e?[e,"beforebegin"]:[t.parentElement,"beforeend"]},firstTagNameInHTML:B,isFullDocumentHTML:function(t){let e=B(t);return"HTML"===e||"!DOCTYPE"===e}}}()},7919:()=>{const t=up.util,e=up.element,n={preventScroll:!0};up.FragmentFocus=class FragmentFocus extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","focusVisible","focusCapsule","inputDevice"])}processPrimitive(e){switch(e){case"keep":return this.Ou();case"restore":return this.Tu();case"target":case!0:return this.ss(this.fragment);case"layer":return this.ss(this.layer.getFocusElement());case"main":return this.Fu(":main");case"hash":return this.Cu();case"autofocus":return this.Ru();default:if(t.isString(e))return this.Fu(e)}}processElement(t){return this.ss(t)}resolveCondition(t){return"lost"===t?this.Lu():super.resolveCondition(t)}Fu(t){let e=this.findSelector(t);return this.ss(e)}Ou(){return this.focusCapsule?.restore(this.layer,n)}Tu(){return up.viewport.restoreFocus({layer:this.layer})}Ru(){let t=this.fragment&&e.subtreeFirst(this.fragment,"[autofocus]");if(t)return this.ss(t)}ss(t){if(t)return up.focus(t,{force:!0,...n,inputDevice:this.inputDevice,focusVisible:this.focusVisible}),!0}Cu(){let t=up.viewport.firstHashTarget(this.hash,{layer:this.layer});if(t)return this.ss(t)}Lu(){return this.focusCapsule?.wasLost()}}},8065:()=>{const t=up.util;up.Record=class Record{keys(){throw"Return an array of keys"}defaults(t){return{}}constructor(e){Object.assign(this,t.mergeDefined(this.defaults(e),this.attributes(e)))}attributes(e=this){return t.pick(e,this.keys())}[t.copy.key](){return t.variant(this)}[t.isEqual.key](e){return this.constructor===e.constructor&&t.isEqual(this.attributes(),e.attributes())}}},8072:()=>{const t=up.util,e=/^(text\/html|application\/xhtml\+xml) *(;|$)/i;up.Response=class Response extends up.Record{keys(){return["method","url","text","status","request","xhr","target","title","openLayer","acceptLayer","dismissLayer","eventPlans","context","expireCache","evictCache","headers","loadedAt","fail"]}defaults(){return{headers:{},loadedAt:new Date}}get ok(){return!t.evalOption(this.fail??up.network.config.fail,this)}get none(){return!this.text}header(t){return this.headers[t]||this.xhr?.getResponseHeader(t)}get varyHeaderNames(){let e=this.header("Vary");return t.getSimpleTokens(e,{separator:","})}get contentType(){return this.header("Content-Type")}isHTML(){return e.test(this.contentType)}get cspInfo(){let t=this.header("Content-Security-Policy")||this.header("Content-Security-Policy-Report-Only");return up.protocol.cspInfoFromHeader(t)}get lastModified(){let t=this.header("Last-Modified");if(t)return new Date(t)}get etag(){return this.header("ETag")}get json(){return this.parsedJSON||=JSON.parse(this.text)}get age(){return new Date-this.loadedAt}get expired(){return this.age>up.network.config.cacheExpireAge||this.request.expired}get description(){return`HTTP ${this.status} response to ${this.request.description}`}get redirect(){return this.url!==this.request.url||this.method!==this.request.method}get redirectRequest(){if(!this.redirect)return;let e=t.variant(this.request,{method:this.method,url:this.url,cacheRoute:null});return up.cache.track(this.request,e,{force:!0}),e}}},8183:()=>{const t=up.util;up.Registry=class Registry{constructor(e,n=t.identity){this.ro={},this.pr=n,this.Au=e,this.put=this.put.bind(this),document.addEventListener("up:framework:reset",(()=>this.reset()))}put(t,e){(e=this.pr(e)).isDefault=up.framework.evaling,this.ro[t]=e}get(t){return this.ro[t]||up.fail("Unknown %s %o",this.Au,t)}reset(){this.ro=t.pickBy(this.ro,"isDefault")}}},8195:()=>{const t=up.util,e=up.element;up.Change.Addition=class Addition extends up.Change{constructor(t){super(t),this.Pu=t.acceptLayer,this.Du=t.dismissLayer,this.$u=t.eventPlans||[],this.we=t.response}handleLayerChangeRequests(){this.layer.isOverlay()&&(this.Mu(),this.ensureLayerAlive(),this.layer.tryAcceptForLocation(this.Hu()),this.ensureLayerAlive(),this.Nu(),this.ensureLayerAlive(),this.layer.tryDismissForLocation(this.Hu()),this.ensureLayerAlive()),this.layer.asCurrent((()=>{for(let t of this.$u)up.emit({...t,...this.Hu()}),this.ensureLayerAlive()}))}Mu(){t.isDefined(this.Pu)&&this.layer.isOverlay()&&this.layer.accept(this.Pu,this.Hu())}Nu(){t.isDefined(this.Du)&&this.layer.isOverlay()&&this.layer.dismiss(this.Du,this.Hu())}ju({oldElement:t,newElement:n,source:i}){"keep"===i&&(i=t&&up.fragment.source(t)),i&&e.setMissingAttr(n,"up-source",up.fragment.normalizeSource(i))}Bu({newElement:t,time:n}){e.setMissingAttr(t,"up-time",!!n&&n.toUTCString())}qu({newElement:t,etag:n}){e.setMissingAttr(t,"up-etag",n||!1)}setReloadAttrs(t){this.ju(t),this.Bu(t),this.qu(t)}Hu(){return{response:this.we}}executeSteps({steps:t,responseDoc:e,noneOptions:n,passRenderOptions:i=this.options}){return new up.Change.UpdateSteps({steps:t,noneOptions:n,passRenderOptions:i}).execute(e)}}},8268:()=>{var t;up.Layer.Drawer=((t=class Drawer extends up.Layer.OverlayWithViewport{}).mode="drawer",t)},8354:()=>{const t=up.util,e=up.element;up.Preview=class Preview{constructor({fragment:t,request:e,renderOptions:n,cleaner:i}){this.fragment=t,this.request=e,this.renderOptions=n,this.Iu=i}undo(...t){this.ended?reportError(new up.Error("Preview used after end of request")):this.Iu.guard(...t)}get origin(){return this.request.origin}get params(){return this.request.params}get layer(){return this.request.layer}get ended(){return this.request.ended}get expiredResponse(){return this.renderOptions.expiredResponse}get revalidating(){return!!this.expiredResponse}run(t,e={}){for(let n of up.status.resolvePreviewFns(t))this.undo(up.error.guard(n,this,e))}revert(){this.Iu.clean()}setAttrs(...t){let[n,i]=this.zu(t,"val","val");this.undo(e.setAttrsTemp(n,i))}addClass(...t){let[n,i]=this.zu(t,"val","val");this.undo(e.addClassTemp(n,i))}addClassBatch(t,e){for(let n of t)for(let t of e)this.addClass(n,t)}removeClass(...t){let[n,i]=this.zu(t,"val","val");this.undo(e.removeClassTemp(n,i))}setStyle(...t){let[n,i]=this.zu(t,"val","val");this.undo(e.setStyleTemp(n,i))}disable(...t){let[e]=this.zu(t,"val");this.undo(up.form.disableTemp(e))}insert(...e){let[n,i="beforeend",s]=this.zu(e,"val",t.isAdjacentPosition,"val");this.undo(up.fragment.insertTemp(n,i,s))}show(...t){let[n]=this.zu(t,"val");this.undo(e.showTemp(n))}hide(...t){let[n]=this.zu(t,"val");this.undo(e.hideTemp(n))}hideContent(...t){let[n]=this.zu(t,"val"),i=e.wrapChildren(n);e.hide(i),this.undo((()=>e.unwrap(i)))}showPlaceholder(...t){let[e,n]=this.zu(t,"val","val"),i=up.fragment.provideNodes(n,{origin:this.origin});up.puts("[up-placeholder]","Showing placeholder %o",n),e?this.swapContent(e,i):"new"===this.layer&&(this.openLayer(i,{closeAnimation:!1}),this.renderOptions.openAnimation=!1)}swapContent(...t){let[e,n]=this.zu(t,"val","val");this.hideContent(e),this.insert(e,n)}openLayer(e,n={}){let i=":undo-preview";up.layer.open({...t.pick(this.renderOptions,[...up.Layer.Overlay.VISUAL_KEYS,"target"]),...n,content:e,abort:!1,onDismiss:({value:t})=>{t!==i&&this.request.abort({reason:"Preview overlay dismissed"})}});let s=up.layer.front;return this.undo((()=>s.dismiss(i,{preventable:!1}))),s}zu(e,...n){let[i,...s]=t.args(e,...n);return i=up.fragment.get(i,{layer:this.layer,origin:this.origin})||this.fragment,[i,...s]}}},8386:()=>{up.Aborted=class Aborted extends up.Error{constructor(t){super(t,{name:"AbortError"})}}},8504:()=>{const t=up.element,e=up.util;up.BodyShifter=class BodyShifter{constructor(){this.Uu=new Set,this.Gs=0,this.Iu=e.cleaner()}lowerStack(){0==--this.Gs&&this.Iu.clean()}raiseStack(){1==++this.Gs&&this.Ku()}onAnchoredElementInserted(t){return this.Uu.add(t),this.Vu(t,"right"),()=>this.Uu.delete(t)}Xu(){return this.Wu&&this.Gs>0}Ku(){this.Wu=up.viewport.rootScrollbarWidth(),this.Iu(t.setStyleTemp(t.root,{"--up-scrollbar-width":this.Wu+"px"})),this.Vu(document.body,"padding-right");for(let t of this.Uu)this.Vu(t,"right")}Vu(e,n){if(!this.Xu())return;let i=t.style(e,n);this.Iu(t.setStyleTemp(e,{["--up-original-"+n]:i}),t.addClassTemp(e,"up-scrollbar-away"))}}},9013:()=>{up.protocol=function(){const t=up.util,e=up.element,n=function(t){return"X-Up"+t.replace(/(^.|[A-Z])/g,(t=>"-"+t.toUpperCase()))},i=function(e,i,s=t.identity){let r=e.getResponseHeader(n(i));if(r)return s(r)};function s(t){return"false"!==t&&t}const r=t.memoize((function(){return t.normalizeMethod(up.browser.popCookie("_up_method"))})),o=new up.Config((()=>({methodParam:"_method",csrfParam:()=>e.metaContent("csrf-param"),csrfToken:()=>e.metaContent("csrf-token"),cspNonce:()=>e.metaContent("csp-nonce"),csrfHeader:"X-CSRF-Token",maxHeaderSize:2048}))),u=/'nonce-([^']+)'/g;function a(e){let n=e.matchAll(u);return t.map(n,"1")}return{config:o,locationFromXHR:function(e){let n=i(e,"location")||e.responseURL;if(n)return t.normalizeURL(n)},titleFromXHR:function(e){return up.migrate.titleFromXHR?.(e)??i(e,"title",t.parseRelaxedJSON)},targetFromXHR:function(t){return i(t,"target")},methodFromXHR:function(e){return i(e,"method",t.normalizeMethod)},openLayerFromXHR:function(e){return i(e,"openLayer",t.parseRelaxedJSON)},acceptLayerFromXHR:function(e){return i(e,"acceptLayer",t.parseRelaxedJSON)},contextFromXHR:function(e){return i(e,"context",t.parseRelaxedJSON)},dismissLayerFromXHR:function(e){return i(e,"dismissLayer",t.parseRelaxedJSON)},eventPlansFromXHR:function(e){return i(e,"events",t.parseRelaxedJSON)},expireCacheFromXHR:function(t){return i(t,"expireCache")||up.migrate.clearCacheFromXHR?.(t)},evictCacheFromXHR:function(t){return i(t,"evictCache",s)},csrfHeader:function(){return t.evalOption(o.csrfHeader)},csrfParam:function(){return t.evalOption(o.csrfParam)},csrfToken:function(){return t.evalOption(o.csrfToken)},cspNonce:function(){return t.evalOption(o.cspNonce)},initialRequestMethod:r,headerize:n,wrapMethod:function(t,e){return e.add(o.methodParam,t),"POST"},cspInfoFromHeader:function(t){let e={};if(t){let n=t.split(/\s*;\s*/);for(let t of n){let n=t.match(/^(script|default)-src:/)?.[1];n&&(e[n]={declaration:t,nonces:a(t)})}}return e.script||e.default||{}}}}()},9156:()=>{const t=up.util;up.LayerStack=class LayerStack{constructor(){this.Gu=[],this.layers=[this.Ju()]}Ju(){return up.layer.build({mode:"root",stack:this})}remove(e){t.remove(this.layers,e)}peel(e,n){const i=t.reverse(e.descendants),s={...n,preventable:!1};for(let t of i)t.dismiss(":peel",s)}reset(){this.peel(this.root,{animation:!1}),this.Gu=[],this.root.reset()}parentOf(t){return this.layers[t.index-1]}childOf(t){return this.layers[t.index+1]}ancestorsOf(e){return t.reverse(this.layers.slice(0,e.index))}selfAndAncestorsOf(t){return[t,...t.ancestors]}descendantsOf(t){return this.layers.slice(t.index+1)}isRoot(t){return this.root===t}isOverlay(t){return this.root!==t}isCurrent(t){return this.current===t}isFront(t){return this.front===t}get(...t){return this.getAll(...t)[0]}getAll(...t){return up.LayerLookup.all(this,...t)}sync(){for(let t of this.layers)t.sync()}asCurrent(t,e){try{return this.Gu.push(t),e()}finally{this.Gu.pop()}}reversed(){return t.reverse(this.layers)}dismissOverlays(e=null,n={}){n.dismissable=!1;for(let i of t.reverse(this.overlays))i.dismiss(e,n)}at(t){return this.layers[t]}indexOf(t){return this.layers.indexOf(t)}get count(){return this.layers.length}get root(){return this.layers[0]}get overlays(){return this.root.descendants}get current(){return t.last(this.Gu)||this.front}get front(){return t.last(this.layers)}}},9363:()=>{up.mockable=function(t){if(window.jasmine){let e=t.name,n={[e]:t},i=function(){return n[e].apply(this,arguments)};return i.mock=()=>spyOn(n,e),i}return t}},9391:()=>{const t=up.util,e=up.element;up.LinkFollowIntent=class LinkFollowIntent{constructor(t,e){this.Qu=t,this.D=e,this.Yu=null,this.Zu("mouseenter mousedown touchstart",(t=>this.ta(t))),this.Zu("mouseleave",(()=>this.ea())),up.fragment.onAborted(this.Qu,(()=>this.ea()))}Zu(t,e){up.on(this.Qu,t,{passive:!0},e)}ta(e){if(up.link.shouldFollowEvent(e,this.Qu))if(this.ea(),"mouseenter"===e.type){let n=this.na();this.ia=t.timer(n,(()=>this.rt(e)))}else this.rt(e)}ea(){clearTimeout(this.ia),this.Yu?.background&&this.Yu.abort(),this.Yu=null}na(){return e.numberAttr(this.Qu,"up-preload-delay")??up.link.config.preloadDelay}rt(t){up.log.putsEvent(t),up.fragment.isAlive(this.Qu)&&this.D({onRequestKnown:t=>this.Yu=t})}}},9399:(t,e,n)=>{n(100);const i=up.util;up.network=function(){const t=new up.Config((()=>({concurrency:6,wrapMethod:!0,cacheSize:70,cacheExpireAge:15e3,cacheEvictAge:54e5,lateDelay:400,fail:t=>(t.status<200||t.status>299)&&304!==t.status,autoCache:t=>t.isSafe(),expireCache:t=>!t.isSafe(),evictCache:!1,progressBar:!0,timeout:9e4}))),e=new up.Request.Queue,n=new up.Request.Cache;let s=null;function r(s){n.expire(s.expireCache??i.evalOption(t.expireCache,s)??!1),n.evict(s.evictCache??i.evalOption(t.evictCache,s)??!1),function(t){let i;if(t.willCache()&&(i=n.get(t)))return up.puts("up.request()","Re-using previous request to %s",t.description),t.background||e.promoteToForeground(i),i.mergeIfUnsent(t),n.track(i,t,{onIncompatible:r}),!0}(s)||function(t){(function(t){t.willCache()&&(n.put(t),t.onLoading=()=>n.reindex(t)),i.always(t,(function(e){n.expire(e.expireCache??!1,{except:t}),n.evict(e.evictCache??!1,{except:t});let i=e instanceof up.Response,s=!i,r=i&&e.ok,o=i&&!e.ok,u=i&&e.none,a=i&&e.redirectRequest;o?n.evict(t.url):s||u?n.evict(t):r&&(n.get(t)&&n.put(t),a&&(a.willCache()||n.get(a))&&n.put(a))}))})(t),e.asap(t)}(s)}function o(...t){up.migrate.preprocessAbortArgs?.(t),e.abort(...t)}return up.on("up:network:late",(function(){i.evalOption(t.progressBar)&&(s=new up.ProgressBar)})),up.on("up:network:recover",(function(){s?.conclude()})),up.on("up:framework:reset",(function(){o(),e.reset(),n.reset(),s?.destroy(),s=null})),{request:function(...t){const e=function(t){let e=i.parseArgIntoOptions(t,"url");return up.migrate.handleRequestOptions?.(e),e}(t),n=new up.Request(e);return r(n),n},cache:n,isBusy:function(){return e.isBusy()},isSafeMethod:function(t){return i.contains(["GET","OPTIONS","HEAD"],i.normalizeMethod(t))},config:t,abort:o,queue:e,loadPage:function(t){new up.Request(t).loadPage()}}}(),up.request=up.network.request,up.cache=up.network.cache},9441:()=>{up.event=function(){const t=up.util,e=up.element;function n(...t){return i(t).bind()}function i(t,e){return up.EventListenerGroup.fromBindArgs(t,e)}function s(t){return up.EventEmitter.fromEmitArgs(t)}function r(...e){const n=t.extractOptions(e),i=e[0]||n.type||up.fail("Missing event type"),s=new Event(i,{bubbles:!0,cancelable:!0});return Object.assign(s,t.omit(n,["type","target"])),s}const o=["metaKey","shiftKey","ctrlKey","altKey"];function u(e){return e.button>0||t.some(o,(t=>e[t]))}function a(e,n,i=[]){const s=r(n,t.pick(e,i));return s.originalEvent=e,["stopPropagation","stopImmediatePropagation","preventDefault"].forEach((function(t){const n=s[t];return s[t]=function(){return e[t](),n.call(s)}})),e.defaultPrevented&&s.preventDefault(),s}n("up:click","[up-emit]",(function(t,n){if(u(t))return;const i=e.attr(n,"up-emit"),s=e.jsonAttr(n,"up-emit-props"),r=a(t,i);Object.assign(r,s),up.emit(n,r)}));let h=["unknown"];function c(t){h.push(t),setTimeout((()=>h.pop()))}return n("keydown keyup",{capture:!0},(()=>c("key"))),n("pointerdown pointerup",{capture:!0},(()=>c("pointer"))),n("up:framework:reset",(function(){for(let t of[window,document,e.root,document.body])for(let e of up.EventListener.allNonDefault(t))e.unbind()})),{on:n,onAncestor:function(t,e,n){let i=up.on(e,{guard:e=>e.target.contains(t)},n);return up.destructor(t,i),i},off:function(...t){return i(t).unbind()},build:r,emit:function(...t){return s(t).emit()},assertEmitted:function(...t){return s(t).assertEmitted()},onEscape:function(t){return n("keydown",(function(e){if("Escape"===e.key)return t(e)}))},halt:function(t,e={}){e.log&&up.log.putsEvent(t),t.stopImmediatePropagation(),t.preventDefault()},isModified:u,isSyntheticClick:function(e){return t.isMissing(e.clientX)},fork:a,keyModifiers:o,get inputDevice(){return t.last(h)}}}(),up.on=up.event.on,up.off=up.event.off,up.emit=up.event.emit},9454:()=>{up.Layer.OverlayWithTether=class OverlayWithTether extends up.Layer.Overlay{createElements(){this.origin||up.fail("Missing { origin } option"),this.sa=new up.Tether({anchor:this.origin,align:this.align,position:this.position}),this.createElement(this.sa.parent),this.createContentElement(this.element)}onContentSet(){this.sa.start(this.element)}onElementsRemoved(){this.sa.stop()}sync(){this.isAlive()&&(this.isDetached()||this.sa.isDetached()?this.dismiss(":detached",{animation:!1,preventable:!1}):this.sa.sync())}}},9483:()=>{up.NotImplemented=class NotImplemented extends up.Error{}},9797:()=>{var t;const e=up.util;up.Change.FromResponse=(t=class FromResponse extends up.Change{constructor(t){super(t),this.we=t.response,this.Ut=this.we.request}execute(){if(up.fragment.config.skipResponse(this.ra())?this.oa():(this.Ut.assertEmitted("up:fragment:loaded",{...this.ra(),callback:this.options.onLoaded,log:["Loaded fragment from %s",this.we.description],skip:()=>this.oa()}),this.ua()),e.evalOption(this.options.fail,this.we)??!this.we.ok)throw this.aa(this.deriveFailOptions());return this.aa(this.options)}ua(){if(!up.fragment.config.renderableResponse(this.we))throw new up.CannotParse(['Cannot render response with content-type "%s" (configure with up.fragment.config.renderableResponse)',this.we.contentType])}oa(){up.puts("up.render()","Skipping "+this.we.description),this.options.target=":none",this.options.failTarget=":none"}aa(t){t.didForceFailOptions&&up.puts("up.render()","Rendering failed response using fail-prefixed options (https://unpoly.com/failed-responses)"),this.ha(t),t.meta=this.ca();let e=new up.Change.FromContent(t).execute();return e.finished=this.finish(e,t),e}async finish(t,e){return t=await t.finished,up.fragment.shouldRevalidate(this.Ut,this.we,e)&&(t=await this.la(t,e)),t}async la(t,e){let n=e.target,i=t.target;if(/:(before|after)/.test(n))up.warn("up.render()","Cannot revalidate cache when prepending/appending (target %s)",n);else{up.puts("up.render()",'Revalidating cached response for target "%s"',i);let n=await up.reload(i,{...e,...up.RenderOptions.NO_MOTION,...up.RenderOptions.NO_INPUT_INTERFERENCE,...up.RenderOptions.NO_PREVIEWS,preferOldElements:t.fragments,layer:t.layer,onFinished:null,expiredResponse:this.we,preview:this.pa(e),abort:!1,cache:!1,background:!0});n.none||(t=n)}return t}pa({preview:t,revalidatePreview:e}){return!0===e?t:e}ra(){const{expiredResponse:t}=this.options;return{request:this.Ut,response:this.we,renderOptions:this.options,revalidating:!!t,expiredResponse:t}}ca(){let t={revalidating:!!this.options.expiredResponse};return up.migrate.processCompilerPassMeta?.(t,this.we),t}ha(t){const n=this.we.url;let i=n,s=this.Ut.hash;s&&(t.hash=s,i+=s),"GET"===this.we.method?t.source=this.improveHistoryValue(t.source,n):(t.source=this.improveHistoryValue(t.source,"keep"),t.history=!!t.location);let r=this.we.openLayer;r&&(Object.assign(t,{...up.Layer.Overlay.UNSET_VISUALS,target:void 0,...up.fragment.config.navigateOptions,...r,layer:"new"}),Object.assign(t,r)),t.location=this.improveHistoryValue(t.location,i),t.title=this.improveHistoryValue(t.title,this.we.title),t.eventPlans=this.we.eventPlans;let o=this.we.target;o&&(t.target=o),t.acceptLayer=this.we.acceptLayer,t.dismissLayer=this.we.dismissLayer,t.document=this.we.text,this.we.none&&(t.target=":none"),t.context=e.merge(t.context,this.we.context),t.cspInfo=this.we.cspInfo,t.time??=this.we.lastModified,t.etag??=this.we.etag}},e.memoizeMethod(t.prototype,{ra:!0}),t)},9844:()=>{const t=up.util;up.FragmentScrolling=class FragmentScrolling extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","mode","revealTop","revealMax","revealSnap","scrollBehavior"])}processPrimitive(e){switch(e){case"top":return this.fa(0);case"bottom":return this.fa(99999999);case"layer":return this.da();case"main":return this.ma(":main");case"restore":return this.ga();case"hash":return this.hash&&up.viewport.revealHash(this.hash,this.attributes());case"target":case"reveal":case!0:return this.ya(this.fragment);default:if(t.isString(e))return this.ma(e)}}processElement(t){return this.ya(t)}ya(t){if(t)return up.reveal(t,this.attributes()),!0}ma(t){let e=this.findSelector(t);return this.ya(e)}da(){return this.ya(this.layer.getBoxElement())}fa(t){return up.viewport.scrollTo(t,{...this.attributes(),around:this.fragment})}ga(){return up.viewport.restoreScroll({...this.attributes(),around:this.fragment})}}},9918:()=>{const t=up.element,e=up.util;up.RevealMotion=class RevealMotion{constructor(e,n={}){this.ut=e,this.ur=t.get(n.viewport)||up.viewport.get(this.ut),this.wa=up.layer.get(this.ur),this.ba=n.scrollBehavior??n.behavior??"instant";const i=up.viewport.config;this.va=n.snap??n.revealSnap??i.revealSnap,this._a=n.padding??n.revealPadding??i.revealPadding,this.ka=n.top??n.revealTop??i.revealTop,this.Sa=n.max??n.revealMax??i.revealMax,this.Ea=i.selector("fixedTopSelectors"),this.xa=i.selector("fixedBottomSelectors")}start(){const t=this.Oa(this.ur),n=up.Rect.fromElement(this.ut);if(this.Sa){const t=e.evalOption(this.Sa,this.ut);n.height=Math.min(n.height,t)}n.grow(this._a),this.Ta(t),t.height<0&&up.fail("Viewport has no visible area");const i=this.ur.scrollTop;let s=i;this.ka||n.height>t.height?s+=n.top-t.top:n.top<t.top?s-=t.top-n.top:n.bottom>t.bottom&&(s+=n.bottom-t.bottom),e.isNumber(this.va)&&s<this.va&&n.top<.5*t.height&&(s=0),s!==i&&this.ur.scrollTo({top:s,behavior:this.ba})}Oa(){return up.viewport.isRoot(this.ur)?new up.Rect({left:0,top:0,width:up.viewport.rootWidth(),height:up.viewport.rootHeight()}):up.Rect.fromElement(this.ur)}Fa(n){let i=up.fragment.all(n,{layer:this.wa});return i=e.filter(i,t.isVisible),e.map(i,(e=>"sticky"===t.style(e,"position")?up.Rect.fromElementAsFixed(e):up.Rect.fromElement(e)))}Ta(t){for(let e of this.Fa(this.Ea)){let n=e.bottom-t.top;n>0&&(t.top+=n,t.height-=n)}for(let e of this.Fa(this.xa)){let n=t.bottom-e.top;n>0&&(t.height-=n)}}}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"Ca",{value:!0})},n(7115),n(9363),n(3889),n(6939),n(6559),n(889),n(7781),n(2487),n(9483),n(8386),n(4244),n(1410),n(1268),n(4138),n(8065),n(3526),n(6705),n(8183),n(7080),n(7275),n(3394),n(8504),n(6347),n(8195),n(4572),n(864),n(5845),n(5224),n(302),n(2113),n(1589),n(9797),n(5249),n(6805),n(2175),n(1739),n(611),n(5229),n(3441),n(4742),n(621),n(5691),n(1499),n(1438),n(2459),n(5887),n(7919),n(3728),n(9844),n(7687),n(7304),n(9454),n(2084),n(3126),n(2009),n(4526),n(8268),n(3383),n(6088),n(9156),n(6607),n(9391),n(2049),n(567),n(5637),n(4718),n(8354),n(2077),n(541),n(7718),n(6351),n(7294),n(4823),n(1588),n(6374),n(8072),n(6858),n(9918),n(6689),n(6140),n(3530),n(5313),n(9441),n(9013),n(367),n(3106),n(6101),n(6973),n(235),n(2679),n(9399),n(1420),n(181),n(1915),n(2771),n(3194),n(4372),up.framework.onEvaled()})();